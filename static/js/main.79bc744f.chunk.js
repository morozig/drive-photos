(this["webpackJsonpdrive-photos"]=this["webpackJsonpdrive-photos"]||[]).push([[0],{134:function(e,t,n){},140:function(e,t,n){},142:function(e,t,n){"use strict";n.r(t);var c,r,i,a,l=n(0),s=n.n(l),o=n(38),u=n.n(o),b=n(7),j=n(95),d=n(4),f=n(198),O=n(205),h=n(195),x=n(202),g=n(31),p=n(14),m=n.n(p),v=n(18),k=n(45),w=n(46),C=function(){function e(){Object(k.a)(this,e),this.observers=[]}return Object(w.a)(e,[{key:"subscribe",value:function(e){this.observers.push(e)}},{key:"once",value:function(e){var t=this;this.subscribe((function n(c){e(c),t.unsubscribe(n)}))}},{key:"unsubscribe",value:function(e){this.observers.splice(this.observers.indexOf(e),1)}},{key:"push",value:function(e){this.observers.forEach((function(t){return t(e)}))}},{key:"unsubscribeAll",value:function(){this.observers=[]}}]),e}(),S=(n(134),["https://www.googleapis.com/auth/drive.metadata.readonly","https://www.googleapis.com/auth/drive.readonly"].join(" ")),y=["https://www.googleapis.com/discovery/v1/apis/drive/v3/rest"],E="AIzaSyDAXtOKqc3gYjmuoxZAqQHnBm-xTQi1-Mw",F=window.gapi,I=new C,M=new C,T=new C,L=new C,B=new C,P=function(e){I.push(e),e?(R(),B.push()):(i=void 0,L.unsubscribe(A))},z=function(){var e=Object(v.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,F.client.init({apiKey:E,clientId:"321539141956-kn4i96a10682t0l8agfo5158fln9ai5d.apps.googleusercontent.com",scope:S,discoveryDocs:y});case 3:c=F.auth2.getAuthInstance(),r=window.google,P(c.isSignedIn.get()),c.isSignedIn.listen(P),T.push(),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0),M.push(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),A=function(e){L.push(e)},R=function(){var e=c.currentUser.get().getAuthResponse(!0).access_token,t=new r.picker.DocsView(r.picker.ViewId.DOCS_IMAGES).setMimeTypes("image/apng,image/avif,image/gif,image/jpeg,image/png,image/svg+xml,image/webp").setIncludeFolders(!0).setParent("root");i=(new r.picker.PickerBuilder).enableFeature(r.picker.Feature.NAV_HIDDEN).addView(t).setOAuthToken(e).setDeveloperKey(E).setCallback(A).build()},D=function(){var e=Object(v.a)(m.a.mark((function e(t){var n,c,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.parentId,c=t.pageToken,e.prev=1,e.next=4,F.client.drive.files.list({q:"'".concat(n,"' in parents and mimeType contains 'image/'"),fields:"files(id, name, thumbnailLink, webContentLink, imageMediaMetadata/*)",pageSize:1e3,orderBy:"name",pageToken:c});case 4:return r=e.sent,e.abrupt("return",r.result);case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}();!function(e){e[e.Begin=1]="Begin",e[e.End=2]="End"}(a||(a={}));var H=function(){var e=Object(v.a)(m.a.mark((function e(t){var n,c,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.parentId,c=t.edge,e.prev=1,e.next=4,F.client.drive.files.list({q:"'".concat(n,"' in parents and mimeType contains 'image/'"),fields:"files(id, name)",pageSize:1,orderBy:c===a.Begin?"name":"name desc"});case 4:return r=e.sent,e.abrupt("return",r.result?r.result.files:[]);case 8:return e.prev=8,e.t0=e.catch(1),console.log(e.t0),e.abrupt("return",[]);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),N=function(){var e=Object(v.a)(m.a.mark((function e(t){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,F.client.drive.files.get({fileId:t,fields:"*"});case 3:return n=e.sent,e.abrupt("return",n.result);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),W=function(){var e=Object(v.a)(m.a.mark((function e(t){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,F.client.drive.files.list({q:"'".concat(t,"' in parents and mimeType = 'application/vnd.google-apps.folder'"),fields:"*",pageSize:1e3,orderBy:"name"});case 3:return n=e.sent,e.abrupt("return",n.result);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}();F.load("client:auth2:picker",z);var q,V="undefined"!==typeof window&&"undefined"!==typeof window.document?window.document:{},G=function(){for(var e,t=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],n=0,c=t.length,r={};n<c;n++)if((e=t[n])&&e[1]in V){for(n=0;n<e.length;n++)r[t[0][n]]=e[n];return r}return!1}(),U=function(){function e(){Object(k.a)(this,e)}return Object(w.a)(e,null,[{key:"isFullscreen",get:function(){return Boolean(V[G.fullscreenElement])}},{key:"on",value:function(e,t){var n="error"===e?G.fullscreenerror:G.fullscreenchange;V.addEventListener(n,t,!1)}},{key:"off",value:function(e,t){var n="error"===e?G.fullscreenerror:G.fullscreenchange;V.removeEventListener(n,t,!1)}},{key:"request",value:function(e){var t=this;return new Promise((function(n,c){var r=function e(){t.off("change",e),n()};t.on("change",r);var i=(e||V.documentElement)[G.requestFullscreen]();i instanceof Promise&&i.then(r).catch(c)}))}},{key:"exit",value:function(){var e=this;return new Promise((function(t,n){if(e.isFullscreen){var c=function n(){e.off("change",n),t()};e.on("change",c);var r=V[G.exitFullscreen]();r instanceof Promise&&r.then(c).catch(n)}else t()}))}},{key:"toggle",value:function(e){return this.isFullscreen?this.exit():this.request(e)}},{key:"isEnabled",get:function(){return Boolean(V[G.fullscreenEnabled])}}]),e}(),Y=n(21),Z=n(177),J="recent",K=function(){var e=Object(l.useRef)(new AbortController);return Object(l.useEffect)((function(){var t=e.current;return function(){t.abort()}}),[]),e.current.signal},_=function(e){var t=Object(l.useState)(!!c&&c.isSignedIn.get()),n=Object(d.a)(t,2),r=n[0],i=n[1],a=Object(l.useState)(null),s=Object(d.a)(a,2),o=s[0],u=s[1],b=Object(l.useState)(null),j=Object(d.a)(b,2),f=j[0],O=j[1],h=Object(l.useState)(!1),x=Object(d.a)(h,2),g=x[0],p=x[1];Object(l.useEffect)((function(){return e=i,I.subscribe(e),function(){return I.unsubscribe(e)};var e}),[]),Object(l.useEffect)((function(){return e=O,M.subscribe(e),function(){return M.unsubscribe(e)};var e}),[]);var m=Object(l.useCallback)((function(){r?(e(),c&&c.signOut()):c?c.signIn():T.once((function(){c&&c.signIn()}))}),[r,e]);return Object(l.useEffect)((function(){if(r){var e={imageUrl:c.currentUser.get().getBasicProfile().getImageUrl()};u(e)}else u(null)}),[r]),Object(l.useEffect)((function(){f&&f.details&&"Cookies are not enabled in current environment."===f.details?p(!0):p(!1)}),[f]),{isSignedIn:r,toggleSignedIn:m,profile:o,isCookiesError:g}},Q=function(){var e=Object(l.useState)(U.isFullscreen),t=Object(d.a)(e,2),n=t[0],c=t[1],r=Object(l.useState)(U.isEnabled),i=Object(d.a)(r,1)[0];return Object(l.useEffect)((function(){if(U.isEnabled){var e=function(){var e=U.isFullscreen;c(e)};return e(),U.on("change",e),function(){U.off("change",e)}}}),[]),{isEnabled:i,isFullscreen:n,toggleFullScreen:Object(l.useCallback)((function(e){(function(){var t=Object(v.a)(m.a.mark((function t(){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(U.isEnabled){t.next=2;break}return t.abrupt("return");case 2:try{U.toggle(e||void 0)}catch(n){console.log(n)}case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[])}},X=function(e){var t=e.parentId,n=e.edge,c=Object(l.useState)(""),r=Object(d.a)(c,2),i=r[0],a=r[1],s=K();return Object(l.useEffect)((function(){t?function(){var e=Object(v.a)(m.a.mark((function e(){var c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,H({parentId:t,edge:n});case 5:c=e.sent,s.aborted||(c.length?a(c[0].id):a("")),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(){return e.apply(this,arguments)}}()():a("")}),[t,n,s]),i},$=function(e){var t=Object(l.useState)(""),n=Object(d.a)(t,2),c=n[0],r=n[1],i=Object(l.useState)(""),s=Object(d.a)(i,2),o=s[0],u=s[1],b=X({parentId:c,edge:a.End}),j=function(e){var t=Object(l.useState)([]),n=Object(d.a)(t,2),c=n[0],r=n[1],i=Object(l.useState)(),a=Object(d.a)(i,2),s=a[0],o=a[1],u=K(),b=Object(l.useRef)(e);return Object(l.useEffect)((function(){e!==b.current&&(r([]),b.current=e)}),[e]),Object(l.useEffect)((function(){e&&function(){var t=Object(v.a)(m.a.mark((function t(){var n;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=2;break}return t.abrupt("return");case 2:return t.prev=2,t.next=5,D({parentId:e,pageToken:s});case 5:n=t.sent,u.aborted||(r((function(e){return e.concat(n.files)})),n.nextPageToken&&o(n.nextPageToken)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(2),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[2,9]])})));return function(){return t.apply(this,arguments)}}()()}),[s,e,u]),c}(e),f=X({parentId:o,edge:a.Begin}),O=function(e){var t=Object(l.useState)(null),n=Object(d.a)(t,2),c=n[0],r=n[1],i=K();return Object(l.useEffect)((function(){e&&function(){var t=Object(v.a)(m.a.mark((function t(){var n;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=2;break}return t.abrupt("return");case 2:return t.prev=2,t.next=5,N(e);case 5:n=t.sent,i.aborted||r(n),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(2),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[2,9]])})));return function(){return t.apply(this,arguments)}}()()}),[e,i]),c}(e),h=function(e){var t=Object(l.useState)([]),n=Object(d.a)(t,2),c=n[0],r=n[1],i=K();return Object(l.useEffect)((function(){e&&function(){var t=Object(v.a)(m.a.mark((function t(){var n;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=2;break}return t.abrupt("return");case 2:return t.prev=2,t.next=5,W(e);case 5:n=t.sent,i.aborted||r(n.files),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(2),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[2,9]])})));return function(){return t.apply(this,arguments)}}()()}),[e,i]),c}(O?O.parents[0]:""),x=Object(l.useMemo)((function(){return h.findIndex((function(t){return t.id===e}))}),[e,h]),g=Object(l.useMemo)((function(){return O&&O.id||""}),[O]),p=Object(l.useMemo)((function(){return O&&O.name||""}),[O]);return Object(l.useEffect)((function(){if(x>=0){var e=h[x-1];r(e?e.id:"");var t=h[x+1];u(t?t.id:"")}}),[h,x]),{files:j,directoryId:g,directoryName:p,prevDirId:c,prevDirFileId:b,nextDirId:o,nextDirFileId:f}},ee=n(24),te=function(){var e=Object(l.useRef)(null),t=Object(l.useState)({width:0,height:0}),n=Object(d.a)(t,2),c=n[0],r=n[1],i=function(e,t){var n=Object(l.useState)(e),c=Object(d.a)(n,2),r=c[0],i=c[1];return Object(l.useEffect)((function(){var n=setTimeout((function(){i(e)}),t);return function(){clearTimeout(n)}}),[e,t]),r}(c,150),a=K(),s=Object(l.useCallback)(Object(v.a)(m.a.mark((function t(){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:requestAnimationFrame((function(){var t=e.current;t&&!a.aborted&&r({width:t.offsetWidth,height:t.offsetHeight})}));case 1:case"end":return t.stop()}}),t)}))),[a]);return Object(l.useEffect)((function(){return s(),window.addEventListener("resize",s),function(){window.removeEventListener("resize",s)}}),[s,a]),{ref:e,rectSize:i}},ne=n(199),ce=n(1),re=function(e){var t=e.file,n=e.counter,c=e.isActive,r=e.onClick;return Object(ce.jsxs)(f.a,{sx:Object(ee.a)({height:220,width:220,borderRadius:"6px",boxSizing:"border-box",overflow:"hidden",display:"grid",alignContent:"center",justifyContent:"center",position:"relative"},c?{bgcolor:"common.black"}:{border:"1px solid #dadce0"}),onClick:r,children:[Object(ce.jsx)("img",{src:t.thumbnailLink,alt:t.name}),Object(ce.jsx)(ne.a,{title:t.name,subtitle:"#".concat(n),sx:Object(ee.a)({},!c&&Object(b.a)({background:"rgba(255, 255, 255, 0.5)"},"& .MuiImageListItemBar-titleWrap",{color:"common.black"}))})]})},ie=(n(140),Object(l.forwardRef)((function(e,t){var n=e.Item,c=e.height,r=e.itemHeight,i=e.itemsCount,a=e.rowsAhead,s=e.rowGap,o=void 0===s?0:s,u=e.columnGap,b=void 0===u?0:u,j=e.width,f=e.itemWidth,O=e.scrollBar,h=void 0===O?"right":O,x=e.scrollToIndex,g=e.onVisibleRows,p=e.center,m=void 0!==p&&p,v="VirtualGrid ".concat(e.className?"".concat(e.className," "):"","VirtualGrid--".concat(h)),k=j&&f&&j>f?Math.floor((j+b-19)/(f+b)):1,w=Math.ceil(i/k),C=function(){var e=Object(l.useState)(0),t=Object(d.a)(e,2),n=t[0],c=t[1],r=Object(l.useRef)(null),i=K();return Object(l.useEffect)((function(){var e=r.current;if(e){var t=function(e){requestAnimationFrame((function(){var t=e.target;t&&!i.aborted&&c(+t.scrollTop)}))};return c(e.scrollTop),e.addEventListener("scroll",t),function(){return e.removeEventListener("scroll",t)}}}),[i]),{scrollTop:n,ref:r}}(),S=C.ref,y=C.scrollTop,E=Object(l.useCallback)((function(e,t){var n=e&&Math.floor(e/k),i=0;if("smart"===t){var a=n&&Math.ceil(n*(r+o)),l=a+r,s=y+c;if(a>=y&&l<=s)return y;l>y&&a<y?i=0:a<s&&l>s&&(i=c-r)}else i=Math.ceil(c/2-r/2);return e&&n&&Math.ceil(n*(r+o))-i}),[o,c,r,k,y]),F=w*r+(w-1)*o;Object(l.useImperativeHandle)(t,(function(){return{scrollToIndex:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"center",n=E(e,t);if(S.current){var c=S.current;c.scroll(0,n)}}}}),[E,S]),Object(l.useEffect)((function(){if(S.current&&void 0!==x){var e=E(x,"center");S.current.scroll(0,e)}}),[E,S,x]);var I=Math.max(0,Math.floor(y/(r+o))-a),M=I*k,T=Math.min(i-M,(Math.ceil(c/(r+o))+2*a)*k),L=I*(r+o),B=Math.floor(y/(r+o)),P=Math.floor((y+c)/(r+o));Object(l.useEffect)((function(){if(g){for(var e=[],t=B;t<=P;t++)e.push(t);g(e)}}),[B,P,g]);var z=Object(l.useMemo)((function(){return T>0?new Array(T).fill(null).map((function(e,t){return Object(ce.jsx)(n,{index:t+M},t+M)})):[]}),[M,T,n]),A=f?"".concat(f,"px"):"1fr",R="repeat(".concat(k,", ").concat(A,")"),D=f&&k>1?k*f+(k-1)*b:void 0,H=j&&f&&j<f?Math.max(j,f):D;return Object(ce.jsx)("div",{className:v,ref:S,style:{height:c,width:j},children:Object(ce.jsx)("div",{className:"VirtualGrid-area",style:{height:F,width:H},children:Object(ce.jsx)("div",{className:"VirtualGrid-visible",style:Object(ee.a)({top:"".concat(L,"px"),gap:"".concat(o,"px ").concat(b,"px"),gridTemplateColumns:R},m&&{justifyContent:"center",justifyItems:"center"}),children:z})})})}))),ae=function(e){var t=e.files,n=void 0===t?[]:t,c=e.fileId,r=e.onSelect,i=e.onVisibleFiles,a=e.sx,s=Object(l.useRef)(null),o=Object(l.useRef)(0),u=Object(l.useMemo)((function(){return function(e){var t=e.index,i=n[t],a=c===i.id;return Object(ce.jsx)(re,{file:i,counter:t+1,isActive:a,onClick:function(){s.current&&(o.current=t,s.current.scrollToIndex(t,"smart")),r(i.id)}})}}),[n,c,r]),b=te(),j=b.ref,d=b.rectSize,O=Object(l.useMemo)((function(){return c&&n&&n.length>0?n.findIndex((function(e){return e.id===c})):-1}),[c,n]);return Object(l.useEffect)((function(){s.current&&O!==o.current&&(o.current=O,s.current.scrollToIndex(O))}),[O]),Object(ce.jsx)(f.a,{ref:j,sx:Object(ee.a)(Object(ee.a)({},a),{},{overflow:"hidden"}),children:n.length>0&&d.height>0&&Object(ce.jsx)(ie,{Item:u,height:d.height,itemHeight:220,itemsCount:n.length,rowsAhead:3,center:!0,rowGap:4,ref:s,onVisibleRows:i})})},le=n(180),se=n(192),oe=n(201),ue=n(185),be=n(186),je=n(56),de=n.n(je),fe=n(55),Oe=n.n(fe),he=n(59),xe=n.n(he),ge=n(60),pe=n.n(ge),me=n(61),ve=n.n(me),ke=n(62),we=n.n(ke),Ce=n(58),Se=n.n(Ce),ye=n(57),Ee=n.n(ye),Fe=Object(le.a)("img")({}),Ie=Object(l.forwardRef)((function(e,t){var n=e.fitMode,c=e.files,r=e.onNextImage,i=e.onPrevImage,a=e.onFitModeChange,s=e.sx,o=e.isScrollToBottom,u=e.isSlideshowEnabled,b=e.isSlideshowPlaying,j=e.onToggleSlideshowPlaying,O=Object(l.useState)(null),h=Object(d.a)(O,2),x=h[0],g=h[1],p=function(e){var t=e.wheelCount,n=void 0===t?3:t,c=e.onScrollOverTop,r=e.onScrollBelowBottom,i=Object(l.useRef)(null),a=Object(l.useRef)(0),s=Object(l.useRef)(0),o=Object(l.useRef)(0),u=Object(l.useCallback)((function(){i.current&&i.current.scroll(0,0)}),[]),b=Object(l.useCallback)((function(){if(i.current){var e=i.current;e.scroll(0,e.scrollHeight)}}),[]),j=Object(l.useCallback)((function(){if(i.current){var e=i.current,t=e.scrollHeight-e.offsetHeight;if(a.current>=t&&r)r();else{var n=Math.max(e.offsetHeight-50,50);e.scroll(0,a.current+n)}}}),[r]);return Object(l.useEffect)((function(){var e=i.current;if(e){var t=function(e){requestAnimationFrame((function(){var t=e.target;t&&(a.current=+t.scrollTop)}))};return e.addEventListener("scroll",t),function(){return e.removeEventListener("scroll",t)}}}),[]),Object(l.useEffect)((function(){var e=i.current;if(e){var t=function(e){var t=i.current;if(t){var l=t.scrollHeight-t.offsetHeight;e.deltaY<0&&(o.current=0,a.current<=0&&(s.current+=1),c&&(l<=0||s.current>=n)&&(s.current=0,c())),e.deltaY>0&&(s.current=0,a.current>=l&&(o.current+=1),r&&(l<=0||o.current>=n)&&(o.current=0,r()))}};return e.addEventListener("wheel",t),function(){return e.removeEventListener("wheel",t)}}}),[n,c,r]),{ref:i,scrollToTop:u,scrollToBottom:b,scrollNextSlide:j}}({wheelCount:3,onScrollOverTop:i,onScrollBelowBottom:r}),m=p.ref,v=p.scrollToTop,k=p.scrollToBottom,w=p.scrollNextSlide;Object(l.useEffect)((function(){if(b){var e=setInterval(w,5e3);return function(){clearInterval(e)}}}),[b,w]);var C=Object(l.useMemo)((function(){return c.length>0?c[0].id:""}),[c]);Object(l.useEffect)((function(){C&&m.current&&(o?k():v())}),[C,m,v,o,k]);var S=Q(),y=S.isEnabled,E=S.isFullscreen,F=S.toggleFullScreen;Object(l.useImperativeHandle)(t,(function(){return{toggleFullscreen:function(){y&&F(m.current)}}}),[m,y,F]);var I=Object(l.useCallback)((function(e){e.preventDefault(),g((function(t){return t?null:{x:e.clientX-2,y:e.clientY-4}}))}),[]),M=Object(l.useCallback)((function(){g(null)}),[]),T=Object(l.useCallback)((function(){y&&F(m.current),M()}),[y,m,F,M]),L=Object(l.useCallback)((function(){a(q.Best),M()}),[a,M]),B=Object(l.useCallback)((function(){a(q.Width),M()}),[a,M]),P=Object(l.useCallback)((function(){a(q.Height),M()}),[a,M]),z=Object(l.useCallback)((function(){a(q.Original),M()}),[a,M]),A=Object(l.useCallback)((function(){j(),M()}),[j,M]);return Object(ce.jsx)(f.a,{sx:Object(ee.a)(Object(ee.a)({},s),{},{position:"relative"}),children:Object(ce.jsxs)(f.a,{component:"div",onContextMenu:I,sx:Object(ee.a)({textAlign:"center",position:"absolute",top:0,left:0,right:0,bottom:0,overflow:"auto",whiteSpace:"nowrap"},c.length>0&&{bgcolor:"common.black"}),ref:m,children:[Object(ce.jsx)(f.a,{component:"span",sx:{height:"100%",verticalAlign:"middle",display:"inline-block"}}),c.map((function(e,t){return Object(ce.jsx)(Fe,{src:e.webContentLink,alt:e.name,sx:0===t?Object(ee.a)(Object(ee.a)(Object(ee.a)({verticalAlign:"middle"},n===q.Best&&{maxWidth:"100%",maxHeight:"100%"}),n===q.Width&&{maxWidth:"100%"}),n===q.Height&&{maxHeight:"100%"}):{display:"none"},onClick:r},e.id)})),Object(ce.jsxs)(se.a,{container:m.current,disableScrollLock:!0,open:!!x,onClose:M,anchorReference:"anchorPosition",anchorPosition:x?{top:x.y,left:x.x}:void 0,children:[y&&Object(ce.jsxs)(oe.a,{onClick:T,children:[Object(ce.jsx)(ue.a,{children:E?Object(ce.jsx)(Oe.a,{}):Object(ce.jsx)(de.a,{})}),Object(ce.jsx)(be.a,{children:E?"Exit Fullscreen":"Enter Fullscreen"})]}),u&&Object(ce.jsxs)(oe.a,{onClick:A,children:[Object(ce.jsx)(ue.a,{children:b?Object(ce.jsx)(Ee.a,{}):Object(ce.jsx)(Se.a,{})}),Object(ce.jsx)(be.a,{children:b?"End Slideshow":"Start Slideshow"})]}),Object(ce.jsxs)(oe.a,{onClick:L,children:[Object(ce.jsx)(ue.a,{children:Object(ce.jsx)(xe.a,{})}),Object(ce.jsx)(be.a,{children:"Best Fit"})]}),Object(ce.jsxs)(oe.a,{onClick:B,children:[Object(ce.jsx)(ue.a,{children:Object(ce.jsx)(pe.a,{})}),Object(ce.jsx)(be.a,{children:"Fit Width"})]}),Object(ce.jsxs)(oe.a,{onClick:P,children:[Object(ce.jsx)(ue.a,{children:Object(ce.jsx)(ve.a,{})}),Object(ce.jsx)(be.a,{children:"Fit Height"})]}),Object(ce.jsxs)(oe.a,{onClick:z,children:[Object(ce.jsx)(ue.a,{children:Object(ce.jsx)(we.a,{})}),Object(ce.jsx)(be.a,{children:"Original Size"})]})]})]})})})),Me=n(203),Te=n(187),Le=n(75),Be=n(189),Pe=n(193),ze=n(204),Ae=n(194),Re=n(101),De=n.n(Re),He=n(87),Ne=n.n(He),We=n(88),qe=n.n(We),Ve=n(108),Ge=n.n(Ve),Ue=n(109),Ye=n.n(Ue),Ze=n(104),Je=n.n(Ze),Ke=n(105),_e=n.n(Ke),Qe=n(106),Xe=n.n(Qe),$e=n(107),et=n.n($e),tt=n(110),nt=n.n(tt),ct=n(111),rt=n.n(ct),it=n(112),at=n.n(it),lt=n(113),st=n.n(lt),ot=n(119),ut=function(){return Object(ce.jsx)(ot.a,{fontSize:"small",children:Object(ce.jsxs)("g",{transform:"matrix(1, 0, 0, 1, 27.009001, -39.238998)",children:[Object(ce.jsx)("path",{fill:"#4285F4",d:"M -3.264 51.509 C -3.264 50.719 -3.334 49.969 -3.454 49.239 L -14.754 49.239 L -14.754 53.749 L -8.284 53.749 C -8.574 55.229 -9.424 56.479 -10.684 57.329 L -10.684 60.329 L -6.824 60.329 C -4.564 58.239 -3.264 55.159 -3.264 51.509 Z"}),Object(ce.jsx)("path",{fill:"#34A853",d:"M -14.754 63.239 C -11.514 63.239 -8.804 62.159 -6.824 60.329 L -10.684 57.329 C -11.764 58.049 -13.134 58.489 -14.754 58.489 C -17.884 58.489 -20.534 56.379 -21.484 53.529 L -25.464 53.529 L -25.464 56.619 C -23.494 60.539 -19.444 63.239 -14.754 63.239 Z"}),Object(ce.jsx)("path",{fill:"#FBBC05",d:"M -21.484 53.529 C -21.734 52.809 -21.864 52.039 -21.864 51.239 C -21.864 50.439 -21.724 49.669 -21.484 48.949 L -21.484 45.859 L -25.464 45.859 C -26.284 47.479 -26.754 49.299 -26.754 51.239 C -26.754 53.179 -26.284 54.999 -25.464 56.619 L -21.484 53.529 Z"}),Object(ce.jsx)("path",{fill:"#EA4335",d:"M -14.754 43.989 C -12.984 43.989 -11.404 44.599 -10.154 45.789 L -6.734 42.369 C -8.804 40.429 -11.514 39.239 -14.754 39.239 C -19.444 39.239 -23.494 41.939 -25.464 45.859 L -21.484 48.949 C -20.534 46.099 -17.884 43.989 -14.754 43.989 Z"})]})})},bt=n(114),jt=n.n(bt),dt=n(102),ft=n.n(dt),Ot=n(103),ht=n.n(Ot),xt=function(e){var t=e.text,n=e.sx,c=Object(l.useRef)(null),r=Object(l.useState)(!1),i=Object(d.a)(r,2),a=i[0],s=i[1];return Object(l.useEffect)((function(){var e=c.current;e&&t?function(){if(e){var t=e.scrollWidth>e.offsetWidth;s(t)}}():s(!1)}),[t]),Object(ce.jsx)(Be.a,{title:t,disableHoverListener:!a,children:Object(ce.jsx)(Le.a,{variant:"h6",component:"div",noWrap:!0,sx:n,ref:c,children:Object(ce.jsx)("span",{children:t})})})},gt=function(e){var t=e.title,n=e.counterTitle,c=e.fitMode,r=e.onFitModeChange,a=e.onOpenFile,s=e.fullscreenButtonActive,o=e.onToggleFullscreen,u=e.isFirstImageEnabled,b=e.isPrevImageEnabled,j=e.isNextImageEnabled,O=e.isLastImageEnabled,h=e.isSlideshowEnabled,g=e.isSlideshowPlaying,p=e.onToggleSlideshowPlaying,k=e.onFirstImage,w=e.onPrevImage,C=e.onNextImage,S=e.onLastImage,y=e.recentFiles,E=e.onDownloadFile,F=e.onCloseFile,I=e.onSignOut,M=e.isMobileDrawerOpen,T=e.toggleMobileDrawer,P=Object(l.useState)(!1),z=Object(d.a)(P,2),A=z[0],R=z[1],D=Object(l.useRef)(null),H=Object(l.useState)(!1),N=Object(d.a)(H,2),W=N[0],V=N[1],G=Object(l.useRef)(null),U=Object(l.useState)(!1),Y=Object(d.a)(U,2),Z=Y[0],J=Y[1],K=Object(l.useRef)(null),X=Object(l.useState)(!1),$=Object(d.a)(X,2),ee=$[0],te=$[1],ne=Object(l.useRef)(null),re=Q(),ie=re.isEnabled,ae=re.isFullscreen,le=_(I),je=le.isSignedIn,fe=le.toggleSignedIn,he=le.profile,ge=le.isCookiesError,me=Object(l.useCallback)((function(){R(!1)}),[]),ke=Object(l.useCallback)((function(){R((function(e){return!e}))}),[]),Ce=Object(l.useCallback)(Object(v.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return me(),e.next=3,new Promise((function(e,t){i?i.setVisible(!0):B.once((function(){i?i.setVisible(!0):t(new Error("No Picker"))})),L.subscribe((function t(n){if("picked"===n.action){var c=n.docs[0];L.unsubscribe(t),e(c)}else"cancel"===n.action&&(L.unsubscribe(t),e(null))}))}));case 3:(t=e.sent)&&a(t);case 5:case"end":return e.stop()}}),e)}))),[me,a]),ye=Object(l.useCallback)((function(){T(),me()}),[T,me]),Fe=Object(l.useCallback)((function(){E(),me()}),[me,E]),Ie=Object(l.useCallback)((function(){F(),me()}),[F,me]),Re=Object(l.useCallback)((function(){V(!1)}),[]),He=Object(l.useCallback)((function(){V((function(e){return!e}))}),[]),We=Object(l.useCallback)((function(e){Re(),me(),a(e)}),[Re,me,a]),Ve=Object(l.useCallback)((function(){J(!1)}),[]),Ue=Object(l.useCallback)((function(){J((function(e){return!e}))}),[]),Ze=Object(l.useCallback)((function(){te(!1)}),[]),Ke=Object(l.useCallback)((function(){te((function(e){return!e}))}),[]),Qe=Object(l.useCallback)((function(){Ze(),fe()}),[Ze,fe]);return Object(ce.jsxs)(x.a,{children:[Object(ce.jsx)(Me.a,{size:"large",edge:"start",color:"inherit","aria-label":"menu",sx:{mr:2},ref:D,onClick:ke,children:Object(ce.jsx)(De.a,{})}),Object(ce.jsxs)(se.a,{anchorEl:D.current,open:A,onClose:me,children:[Object(ce.jsxs)(oe.a,{onClick:ye,sx:{display:{xs:"flex",md:"none"}},children:[Object(ce.jsx)(ue.a,{children:M?Object(ce.jsx)(ft.a,{}):Object(ce.jsx)(ht.a,{})}),Object(ce.jsx)(be.a,{children:M?"Hide Thumbnails":"Show Thumbnails"})]}),!je&&Object(ce.jsxs)(oe.a,{onClick:fe,children:[Object(ce.jsx)(ue.a,{children:Object(ce.jsx)(ut,{})}),Object(ce.jsx)(be.a,{children:"Sign in with Google"})]}),je&&Object(ce.jsxs)(oe.a,{onClick:Ce,children:[Object(ce.jsx)(ue.a,{children:Object(ce.jsx)(Je.a,{})}),Object(ce.jsx)(be.a,{children:"Open File"})]}),je&&Object(ce.jsxs)(oe.a,{onClick:He,disabled:0===y.length,ref:G,children:[Object(ce.jsx)(ue.a,{children:Object(ce.jsx)(_e.a,{})}),Object(ce.jsx)(be.a,{children:"Recent Files"})]}),s&&Object(ce.jsxs)(oe.a,{onClick:Fe,children:[Object(ce.jsx)(ue.a,{children:Object(ce.jsx)(Xe.a,{})}),Object(ce.jsx)(be.a,{children:"Download File"})]}),s&&Object(ce.jsxs)(oe.a,{onClick:Ie,children:[Object(ce.jsx)(ue.a,{children:Object(ce.jsx)(et.a,{})}),Object(ce.jsx)(be.a,{children:"Close File"})]}),Object(ce.jsx)(Te.a,{sx:{display:{xs:"flex",md:"none"}}}),Object(ce.jsxs)(oe.a,{disabled:!s,onClick:function(){k(),me()},sx:{display:{xs:"flex",md:"none"}},children:[Object(ce.jsx)(ue.a,{children:Object(ce.jsx)(Ne.a,{})}),Object(ce.jsx)(be.a,{children:"First Image"})]}),Object(ce.jsxs)(oe.a,{disabled:!s,onClick:function(){p(),me()},sx:{display:{xs:"flex",md:"none"}},children:[Object(ce.jsx)(ue.a,{children:g?Object(ce.jsx)(Ee.a,{}):Object(ce.jsx)(Se.a,{})}),Object(ce.jsx)(be.a,{children:g?"End Slideshow":"Start Slideshow"})]}),Object(ce.jsxs)(oe.a,{disabled:!s,onClick:function(){S(),me()},sx:{display:{xs:"flex",md:"none"}},children:[Object(ce.jsx)(ue.a,{children:Object(ce.jsx)(qe.a,{})}),Object(ce.jsx)(be.a,{children:"Last Image"})]}),Object(ce.jsx)(Te.a,{sx:{display:{xs:"flex",md:"none"}}}),Object(ce.jsxs)(oe.a,{onClick:function(){r(q.Best),me()},sx:{display:{xs:"flex",md:"none"},backgroundColor:c===q.Best?"rgba(0, 0, 0, 0.08)":void 0},children:[Object(ce.jsx)(ue.a,{children:Object(ce.jsx)(xe.a,{})}),Object(ce.jsx)(be.a,{children:"Best Fit"})]}),Object(ce.jsxs)(oe.a,{onClick:function(){r(q.Width),me()},sx:{display:{xs:"flex",md:"none"},backgroundColor:c===q.Width?"rgba(0, 0, 0, 0.08)":void 0},children:[Object(ce.jsx)(ue.a,{children:Object(ce.jsx)(pe.a,{})}),Object(ce.jsx)(be.a,{children:"Fit Width"})]}),Object(ce.jsxs)(oe.a,{onClick:function(){r(q.Height),me()},sx:{display:{xs:"flex",md:"none"},backgroundColor:c===q.Height?"rgba(0, 0, 0, 0.08)":void 0},children:[Object(ce.jsx)(ue.a,{children:Object(ce.jsx)(ve.a,{})}),Object(ce.jsx)(be.a,{children:"Fit Height"})]}),Object(ce.jsxs)(oe.a,{onClick:function(){r(q.Original),me()},sx:{display:{xs:"flex",md:"none"},backgroundColor:c===q.Original?"rgba(0, 0, 0, 0.08)":void 0},children:[Object(ce.jsx)(ue.a,{children:Object(ce.jsx)(we.a,{})}),Object(ce.jsx)(be.a,{children:"Original Size"})]}),Object(ce.jsx)(Te.a,{sx:{display:{xs:"flex",md:"none"}}}),Object(ce.jsxs)(oe.a,{disabled:!s,onClick:function(){o(),me()},sx:{display:{xs:"flex",md:"none"}},children:[Object(ce.jsx)(ue.a,{children:ae?Object(ce.jsx)(Oe.a,{}):Object(ce.jsx)(de.a,{})}),Object(ce.jsx)(be.a,{children:ae?"Exit Fullscreen":"Enter Fullscreen"})]})]}),Object(ce.jsx)(se.a,{anchorEl:G.current,open:W,onClose:Re,PaperProps:{sx:{maxWidth:"400px"}},anchorOrigin:{vertical:"top",horizontal:"right"},children:y.map((function(e,t){return Object(ce.jsx)(oe.a,{onClick:function(){return We(e)},children:Object(ce.jsx)(Le.a,{noWrap:!0,children:e.title})},t)}))}),Object(ce.jsx)(xt,{text:t,sx:{flexGrow:1}}),!!n&&Object(ce.jsx)(f.a,{sx:{m:1},children:Object(ce.jsx)(Le.a,{variant:"body1",noWrap:!0,children:n})}),Object(ce.jsx)(Be.a,{title:"First Image (Home)",children:Object(ce.jsx)(f.a,{sx:{display:{xs:"none",md:"block"}},children:Object(ce.jsx)(Me.a,{size:"large",color:"inherit","aria-label":"first-image",disabled:!u,onClick:k,children:Object(ce.jsx)(Ne.a,{})})})}),Object(ce.jsx)(Be.a,{title:"Previous Image (Left Arrow)",children:Object(ce.jsx)(f.a,{children:Object(ce.jsx)(Me.a,{size:"large",color:"inherit","aria-label":"prev-image",disabled:!b,onClick:w,sx:{p:{xs:"6px",md:"12px"}},children:Object(ce.jsx)(Ge.a,{})})})}),Object(ce.jsx)(Be.a,{title:g?"End Slideshow (Space)":"Start Slideshow (Space)",children:Object(ce.jsx)(f.a,{sx:{display:{xs:"none",md:"block"}},children:Object(ce.jsx)(Me.a,{size:"large",color:"inherit","aria-label":"next-image",disabled:!h,onClick:p,children:g?Object(ce.jsx)(Ee.a,{}):Object(ce.jsx)(Se.a,{})})})}),Object(ce.jsx)(Be.a,{title:"Next Image (Right Arrow, Scroll Below, Click)",children:Object(ce.jsx)(f.a,{children:Object(ce.jsx)(Me.a,{size:"large",color:"inherit","aria-label":"next-image",disabled:!j,onClick:C,sx:{p:{xs:"6px",md:"12px"}},children:Object(ce.jsx)(Ye.a,{})})})}),Object(ce.jsx)(Be.a,{title:"Last Image (End)",children:Object(ce.jsx)(f.a,{sx:{display:{xs:"none",md:"block"}},children:Object(ce.jsx)(Me.a,{size:"large",color:"inherit","aria-label":"last-image",disabled:!O,onClick:S,children:Object(ce.jsx)(qe.a,{})})})}),Object(ce.jsxs)(Pe.a,{value:c,exclusive:!0,onChange:function(e,t){return r(t)},sx:{display:{xs:"none",md:"block"}},children:[Object(ce.jsx)(ze.a,{value:q.Best,"aria-label":"best-fit",sx:{p:0},children:Object(ce.jsx)(Be.a,{title:"Best Fit",children:Object(ce.jsx)(f.a,{sx:{height:"min-content",width:"min-content",p:"11px",display:"grid",alignContent:"center",justifyContent:"center"},children:Object(ce.jsx)(xe.a,{})})})}),Object(ce.jsx)(ze.a,{value:q.Width,"aria-label":"fit-width",sx:{p:0},children:Object(ce.jsx)(Be.a,{title:"Fit Width",children:Object(ce.jsx)(f.a,{sx:{height:"min-content",width:"min-content",p:"11px",display:"grid",alignContent:"center",justifyContent:"center"},children:Object(ce.jsx)(pe.a,{})})})}),Object(ce.jsx)(ze.a,{value:q.Height,"aria-label":"fit-height",sx:{p:0},children:Object(ce.jsx)(Be.a,{title:"Fit Height",children:Object(ce.jsx)(f.a,{sx:{height:"min-content",width:"min-content",p:"11px",display:"grid",alignContent:"center",justifyContent:"center"},children:Object(ce.jsx)(ve.a,{})})})}),Object(ce.jsx)(ze.a,{value:q.Original,"aria-label":"fit-original",sx:{p:0},children:Object(ce.jsx)(Be.a,{title:"Original Size",children:Object(ce.jsx)(f.a,{sx:{height:"min-content",width:"min-content",p:"11px",display:"grid",alignContent:"center",justifyContent:"center"},children:Object(ce.jsx)(we.a,{})})})})]}),ie&&Object(ce.jsx)(Be.a,{title:ae?"Exit Fullscreen":"Enter Fullscreen",children:Object(ce.jsx)(f.a,{sx:{display:{xs:"none",md:"block"}},children:Object(ce.jsx)(Me.a,{size:"large",color:"inherit","aria-label":"fullscreen",disabled:!s,onClick:o,children:ae?Object(ce.jsx)(Oe.a,{}):Object(ce.jsx)(de.a,{})})})}),Object(ce.jsx)(Be.a,{title:"Terms And Conditions",children:Object(ce.jsx)(Me.a,{size:"large",color:"inherit","aria-label":"terms-and-policy",edge:je?void 0:"end",ref:K,onClick:Ue,sx:{p:{xs:"6px",md:"12px"}},children:Object(ce.jsx)(nt.a,{})})}),Object(ce.jsxs)(se.a,{anchorEl:K.current,open:Z,onClose:Ve,MenuListProps:{"aria-labelledby":"basic-button"},children:[Object(ce.jsxs)(oe.a,{component:"a",href:"".concat(".","/privacy.html"),children:[Object(ce.jsx)(ue.a,{children:Object(ce.jsx)(rt.a,{})}),Object(ce.jsx)(be.a,{children:"Privacy Policy"})]}),Object(ce.jsxs)(oe.a,{component:"a",href:"".concat(".","/terms.html"),children:[Object(ce.jsx)(ue.a,{children:Object(ce.jsx)(at.a,{})}),Object(ce.jsx)(be.a,{children:"Terms And Conditions"})]})]}),je&&he&&Object(ce.jsx)(Me.a,{size:"large",edge:"end",color:"inherit","aria-label":"terms-and-policy",ref:ne,onClick:Ke,sx:{p:"6px"},children:Object(ce.jsx)(Ae.a,{src:he.imageUrl,sx:{width:32,height:32}})}),Object(ce.jsx)(se.a,{anchorEl:ne.current,open:ee,onClose:Ze,MenuListProps:{"aria-labelledby":"basic-button"},children:Object(ce.jsxs)(oe.a,{onClick:Qe,children:[Object(ce.jsx)(ue.a,{children:Object(ce.jsx)(st.a,{})}),Object(ce.jsx)(be.a,{children:"Sign Out"})]})}),!je&&ge&&Object(ce.jsx)(Be.a,{title:'You need to enable 3rd party cookies.\n            Click "eye" icon at the end of address bar',children:Object(ce.jsx)(jt.a,{color:"error",sx:{ml:"12px",mr:"-6px"}})})]})},pt=260,mt="Drive Photos";!function(e){e[e.Best=1]="Best",e[e.Width=2]="Width",e[e.Height=3]="Height",e[e.Original=4]="Original"}(q||(q={}));var vt=function(){var e,t,n=Object(l.useState)(q.Best),c=Object(d.a)(n,2),r=c[0],i=c[1],a=Object(l.useState)(""),s=Object(d.a)(a,2),o=s[0],u=s[1],p=Object(l.useState)(""),m=Object(d.a)(p,2),v=m[0],k=m[1],w=Object(l.useState)(!1),C=Object(d.a)(w,2),S=C[0],y=C[1],E=Object(l.useState)(mt),F=Object(d.a)(E,2),I=F[0],M=F[1],T=Object(l.useState)(!1),L=Object(d.a)(T,2),B=L[0],P=L[1],z=Object(l.useState)([]),A=Object(d.a)(z,2),R=A[0],D=A[1],H=Object(l.useState)(!1),N=Object(d.a)(H,2),W=N[0],V=N[1],G=Object(l.useCallback)((function(){V((function(e){return!e}))}),[]),U=function(){var e=Object(Y.a)();return Object(Z.a)(e.breakpoints.down("md"))}(),K=$(o),_=K.files,Q=K.directoryId,X=K.directoryName,ee=K.prevDirId,te=K.prevDirFileId,ne=K.nextDirId,re=K.nextDirFileId,ie=function(){var e=Object(l.useState)([]),t=Object(d.a)(e,2),n=t[0],c=t[1],r=Object(l.useRef)(null);Object(l.useEffect)((function(){var e=localStorage.getItem(J);r.current=e,e&&c(JSON.parse(e))}),[]);var i=Object(l.useCallback)((function(e){c((function(t){return[e].concat(t.slice(1))}))}),[]),a=Object(l.useCallback)((function(e){c((function(t){return[e].concat(t.slice(0,9))}))}),[]),s=Object(l.useCallback)((function(){c([])}),[]);return Object(l.useEffect)((function(){if(n.length>0){var e=JSON.stringify(n);e!==r.current&&(localStorage.setItem(J,e),r.current=e)}else localStorage.getItem(J)&&(localStorage.removeItem(J),r.current=null)}),[n]),{recentFiles:n,replace:i,shift:a,clear:s}}(),le=ie.recentFiles,se=ie.replace,oe=ie.shift,ue=ie.clear,be=Object(l.useRef)(!1),je=Object(l.useCallback)((function(e){k(e.id),u(e.parentId),y(!1),be.current=!0}),[]),de=Object(l.useMemo)((function(){return v&&_.length>0?_.findIndex((function(e){return e.id===v})):-1}),[v,_]);Object(l.useEffect)((function(){var e=_[de],t=e?e.name:"",n=X&&t?"".concat(X,"/").concat(t):"",c=n?"".concat(n," | ").concat(mt):mt;if(M(n||mt),document.title=c,e&&Q&&n){var r={id:e.id,parentId:Q,title:n};be.current?(oe(r),be.current=!1):se(r)}}),[de,Q,X,_,se,oe]);var fe=Object(l.useMemo)((function(){return de>=0&&_.length>0?"".concat(de+1,"/").concat(_.length):""}),[de,_]),Oe=Object(l.useMemo)((function(){return!(de<0||_.length<0)&&de>0}),[de,_.length]),he=Object(l.useMemo)((function(){return!(de<0||_.length<0)&&(de>0||!!te)}),[de,_.length,te]),xe=Object(l.useMemo)((function(){return!(de<0||_.length<0)&&(de<_.length-1||!!re)}),[de,_.length,re]),ge=Object(l.useMemo)((function(){return!(de<0||_.length<0)&&de<_.length-1}),[de,_.length]),pe=Object(l.useMemo)((function(){return xe}),[xe]),me=Object(l.useCallback)((function(){_[0]&&(k(_[0].id),y(!1))}),[_]),ve=Object(l.useCallback)((function(){var e=de-1;_[e]?(k(_[e].id),y(!0)):ee&&te&&(k(te),u(ee),y(!0))}),[de,_,ee,te]),ke=Object(l.useCallback)((function(){var e=de+1;_[e]?(k(_[e].id),y(!1)):ne&&re&&(k(re),u(ne),y(!1))}),[de,_,ne,re]),we=Object(l.useCallback)((function(){var e=_.length-1;_[e]&&(k(_[e].id),y(!1))}),[_]),Ce=Object(l.useCallback)((function(e){k(e),y(!1)}),[]);Object(l.useEffect)((function(){!pe&&B&&P(!1)}),[pe,B]);var Se=Object(l.useCallback)((function(){P((function(e){return!e}))}),[]),ye=Object(l.useCallback)((function(){var e=_[de];if(e){var t=e.name,n=e.webContentLink,c=document.createElement("a");c.download=t,c.href=n,document.body.appendChild(c),c.click(),document.body.removeChild(c)}}),[de,_]),Ee=Object(l.useCallback)((function(){k(""),u(""),y(!1)}),[]),Fe=Object(l.useCallback)((function(){Ee(),ue(),localStorage.clear()}),[Ee,ue]),Me=Object(l.useMemo)((function(){if(de<0||_.length<=0)return[];for(var e=_[de],t=new Set,n=1;n<=3;n++){var c=_[de+n];c&&t.add(c)}for(var r=1;r<=3;r++){var i=_[de-r];i&&t.add(i)}for(var a=0;a<3;a++){var l=_[a];l&&t.add(l)}for(var s=_.length-1;s>=_.length-3;s--){var o=_[s];o&&t.add(o)}var u,b=Object(j.a)(R);try{for(b.s();!(u=b.n()).done;){var d=u.value,f=_[d];f&&t.add(f)}}catch(O){b.e(O)}finally{b.f()}return t.delete(e),[e].concat(Array.from(t))}),[de,_,R]),Te=Object(l.useRef)(null),Le=Object(l.useCallback)((function(){Te.current&&Te.current.toggleFullscreen()}),[]);return Object(l.useEffect)((function(){var e=function(e){switch(e.key){case"Home":me();break;case"ArrowLeft":ve();break;case"ArrowRight":ke();break;case"End":we();break;case" ":Se()}};return document.addEventListener("keydown",e),function(){document.removeEventListener("keydown",e)}}),[me,ve,ke,we,Se]),Object(ce.jsxs)(f.a,{sx:{display:"flex"},children:[Object(ce.jsx)(O.a,{position:"fixed",sx:{zIndex:function(e){return e.zIndex.drawer+1}},children:Object(ce.jsx)(gt,{title:I,counterTitle:fe,fitMode:r,onFitModeChange:i,onOpenFile:je,fullscreenButtonActive:_.length>0,onToggleFullscreen:Le,isFirstImageEnabled:Oe,isPrevImageEnabled:he,isNextImageEnabled:xe,isLastImageEnabled:ge,isSlideshowEnabled:pe,isSlideshowPlaying:B,onToggleSlideshowPlaying:Se,onFirstImage:me,onPrevImage:ve,onNextImage:ke,onLastImage:we,recentFiles:le,onDownloadFile:ye,onCloseFile:Ee,onSignOut:Fe,isMobileDrawerOpen:W,toggleMobileDrawer:G})}),U?Object(ce.jsxs)(h.a,{anchor:"left",open:W,onOpen:G,onClose:G,sx:(e={width:pt,flexShrink:0},Object(b.a)(e,"& .MuiDrawer-paper",{width:pt,boxSizing:"border-box"}),Object(b.a)(e,"display","flex"),Object(b.a)(e,"flexDirection","column"),e),ModalProps:{keepMounted:!0},children:[Object(ce.jsx)(x.a,{}),Object(ce.jsx)(ae,{files:_,fileId:v,onSelect:Ce,onVisibleFiles:D,sx:{flexGrow:1}})]}):Object(ce.jsxs)(g.a,{variant:"permanent",sx:(t={width:pt,flexShrink:0},Object(b.a)(t,"& .MuiDrawer-paper",{width:pt,boxSizing:"border-box"}),Object(b.a)(t,"display","flex"),Object(b.a)(t,"flexDirection","column"),t),children:[Object(ce.jsx)(x.a,{}),Object(ce.jsx)(ae,{files:_,fileId:v,onSelect:Ce,onVisibleFiles:D,sx:{flexGrow:1}})]}),Object(ce.jsxs)(f.a,{component:"main",sx:{flexGrow:1,height:"100vh",display:"flex",flexDirection:"column"},children:[Object(ce.jsx)(x.a,{}),_.length>0&&Object(ce.jsx)(Ie,{fitMode:r,files:Me,onPrevImage:ve,onNextImage:ke,onFitModeChange:i,isScrollToBottom:S,isSlideshowEnabled:pe,isSlideshowPlaying:B,onToggleSlideshowPlaying:Se,sx:{flexGrow:1},ref:Te})]})]})},kt=n(197),wt=n(196),Ct=n(115),St=Object(Ct.a)({palette:{primary:{main:"#ffffff",contrastText:"#595959"}},components:{MuiTooltip:{styleOverrides:{tooltip:{backgroundColor:"rgba(0, 0, 0, 0.5)"}}}}});u.a.render(Object(ce.jsx)(wt.a,{theme:St,children:Object(ce.jsxs)(s.a.StrictMode,{children:[Object(ce.jsx)(kt.a,{}),Object(ce.jsx)(vt,{})]})}),document.getElementById("root"))}},[[142,1,2]]]);
//# sourceMappingURL=main.79bc744f.chunk.js.map