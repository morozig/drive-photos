(this["webpackJsonpdrive-photos"]=this["webpackJsonpdrive-photos"]||[]).push([[0],{156:function(e,t,n){},158:function(e,t,n){},159:function(e,t,n){"use strict";n.r(t);var r,c,i,a,o=n(0),s=n.n(o),l=n(47),u=n.n(l),d=n(222),b=n(225),j=n(218),f=n(4),h=n(219),x=n(211),O=n(221),m=n(202),g=n(203),p=n(89),v=n(208),w=n(79),k=n.n(w),C=n(81),S=n.n(C),y=n(82),E=n.n(y),M=n(83),F=n.n(M),I=n(84),L=n.n(I),P=n(46),T=n(80),z=n.n(T),R=n(1),A=function(){var e=Object(o.useState)(!1),t=Object(f.a)(e,2),n=t[0],r=t[1],c=Object(o.useRef)(null),i=Object(o.useState)(!1),a=Object(f.a)(i,2),s=a[0],l=a[1],u=Object(o.useRef)(null),b=Object(o.useCallback)((function(){r(!1)}),[]),w=Object(o.useCallback)((function(){r((function(e){return!e}))}),[]),C=Object(o.useCallback)((function(){l(!1)}),[]),y=Object(o.useCallback)((function(){l((function(e){return!e}))}),[]);return Object(R.jsxs)(j.a,{children:[Object(R.jsx)(h.a,{size:"large",edge:"start",color:"inherit","aria-label":"menu",sx:{mr:2},ref:c,onClick:w,children:Object(R.jsx)(k.a,{})}),Object(R.jsx)(x.a,{anchorEl:c.current,open:n,onClose:b,disableScrollLock:!0,children:Object(R.jsxs)(O.a,{component:P.b,to:"/view",children:[Object(R.jsx)(m.a,{children:Object(R.jsx)(z.a,{})}),Object(R.jsx)(g.a,{children:"Open View"})]})}),Object(R.jsx)(d.a,{sx:{flexGrow:1,overflow:"hidden"},children:Object(R.jsx)(p.a,{variant:"h6",noWrap:!0,sx:{textOverflow:"ellipsis"},children:"Drive Photos"})}),Object(R.jsx)(v.a,{title:"Terms And Conditions",children:Object(R.jsx)(h.a,{size:"large",color:"inherit","aria-label":"terms-and-policy",edge:"end",ref:u,onClick:y,sx:{p:{xs:"6px",md:"12px"}},children:Object(R.jsx)(S.a,{})})}),Object(R.jsxs)(x.a,{anchorEl:u.current,open:s,onClose:C,MenuListProps:{"aria-labelledby":"basic-button"},disableScrollLock:!0,children:[Object(R.jsxs)(O.a,{component:"a",href:"".concat(".","/about.html"),children:[Object(R.jsx)(m.a,{children:Object(R.jsx)(E.a,{})}),Object(R.jsx)(g.a,{children:"About"})]}),Object(R.jsxs)(O.a,{component:"a",href:"".concat(".","/privacy.html"),children:[Object(R.jsx)(m.a,{children:Object(R.jsx)(F.a,{})}),Object(R.jsx)(g.a,{children:"Privacy Policy"})]}),Object(R.jsxs)(O.a,{component:"a",href:"".concat(".","/terms.html"),children:[Object(R.jsx)(m.a,{children:Object(R.jsx)(L.a,{})}),Object(R.jsx)(g.a,{children:"Terms And Conditions"})]})]})]})},H=n(17),D=n(223),B=n(220),W=n(224),Z=(n(156),n.p+"static/media/speech-bubble.52063f50.svg"),N=n.p+"static/media/speech-bubble-wide.07d56428.svg",Y=function(e){var t=e.sx;return Object(R.jsx)(d.a,{sx:Object(H.a)(Object(H.a)({},t),{},{background:{xs:"url(".concat(Z,")"),md:"url(".concat(N,")")},backgroundPosition:"center",backgroundSize:"100% 100%",backgroundRepeat:"no-repeat",textAlign:"center",fontFamily:"Comic Sans MS",padding:{xs:"10vmin 5vmin 30vmin 5vmin",md:"15vmin 15vmin 15vmin 15vmin"},maxWidth:{xs:"60vmin",md:"100vmin"},marginRight:{xs:"0",md:"-5vmin"}}),children:Object(R.jsx)(p.a,{fontFamily:"Comic Sans MS",fontSize:"7vmin",lineHeight:"7vmin",children:e.children})})},X=function(){return Object(R.jsx)(D.a,{component:P.b,to:"/view",variant:"contained",color:"secondary",startIcon:Object(R.jsx)(z.a,{}),children:"Open View"})},V=[Object(R.jsxs)(B.a,{children:[Object(R.jsxs)(d.a,{sx:{height:"100vh",width:"100%",position:"relative",backgroundColor:"#6df3db",border:"solid black 0.8vmin",boxSizing:"border-box",overflow:"hidden"},children:[Object(R.jsx)(d.a,{component:"img",src:"".concat(".","/assets/girl1.jpg"),sx:{position:"absolute",bottom:0,left:{xs:"-5%",md:"0"},maxHeight:{xs:"60vh",md:"100%"},maxWidth:{xs:void 0,md:"70vw"}}}),Object(R.jsx)(Y,{sx:{position:"absolute",top:{xs:"10%",md:"0"},right:0},children:"Drive Photos"})]}),Object(R.jsxs)(d.a,{sx:{height:"100vh",width:"100%",position:"relative",backgroundColor:"#ffdc2e",border:"solid black 0.8vmin",marginTop:"3vh",boxSizing:"border-box",overflow:"hidden"},children:[Object(R.jsx)(d.a,{component:"img",src:"".concat(".","/assets/girl2.jpg"),sx:{position:"absolute",bottom:0,left:{xs:"-5%",md:"0"},maxHeight:{xs:"60vh",md:"100%"},maxWidth:{xs:void 0,md:"70vw"}}}),Object(R.jsx)(Y,{sx:{position:"absolute",top:{xs:"10%",md:"0"},right:0},children:"Online image viewer for Google Drive."})]})]}),Object(R.jsxs)(B.a,{children:[Object(R.jsxs)(d.a,{sx:{height:"100vh",width:"100%",position:"relative",backgroundColor:"#f31872",border:"solid black 0.8vmin",boxSizing:"border-box",overflow:"hidden"},children:[Object(R.jsx)(d.a,{component:"img",src:"".concat(".","/assets/girl3.jpg"),sx:{position:"absolute",bottom:0,left:{xs:"-5%",md:"0"},maxHeight:{xs:"60vh",md:"100%"},maxWidth:{xs:void 0,md:"70vw"}}}),Object(R.jsx)(Y,{sx:{position:"absolute",top:{xs:"10%",md:"0"},right:0},children:"Access your photos anywhere."})]}),Object(R.jsxs)(d.a,{sx:{height:"100vh",width:"100%",position:"relative",backgroundColor:"#02c7fc",border:"solid black 0.8vmin",marginTop:"3vh",boxSizing:"border-box",overflow:"hidden"},children:[Object(R.jsx)(d.a,{component:"img",src:"".concat(".","/assets/girl4.jpg"),sx:{position:"absolute",bottom:0,left:{xs:"-5%",md:"0"},maxHeight:{xs:"60vh",md:"100%"},maxWidth:{xs:void 0,md:"70vw"}}}),Object(R.jsx)(Y,{sx:{position:"absolute",top:{xs:"10%",md:"0"},right:0},children:"All devices are supported."})]})]}),Object(R.jsxs)(B.a,{children:[Object(R.jsxs)(d.a,{sx:{height:"100vh",width:"100%",position:"relative",backgroundColor:"#fe0000",border:"solid black 0.8vmin",boxSizing:"border-box",overflow:"hidden"},children:[Object(R.jsx)(d.a,{component:"img",src:"".concat(".","/assets/girl5.jpg"),sx:{position:"absolute",bottom:0,left:{xs:"-5%",md:"0"},maxHeight:{xs:"60vh",md:"100%"},maxWidth:{xs:void 0,md:"70vw"}}}),Object(R.jsx)(Y,{sx:{position:"absolute",top:{xs:"10%",md:"0"},right:0},children:"Free and open source."})]}),Object(R.jsxs)(d.a,{sx:{height:"100vh",width:"100%",position:"relative",backgroundColor:"#fe3989",border:"solid black 0.8vmin",marginTop:"3vh",boxSizing:"border-box",overflow:"hidden"},children:[Object(R.jsx)(d.a,{component:"img",src:"".concat(".","/assets/girl6.jpg"),sx:{position:"absolute",bottom:0,left:{xs:"-5%",md:"0"},maxHeight:{xs:"60vh",md:"100%"},maxWidth:{xs:void 0,md:"70vw"}}}),Object(R.jsx)(Y,{sx:{position:"absolute",top:{xs:"10%",md:"0"},right:0},children:"No server, all personal data stays in your browser."})]})]}),Object(R.jsxs)(B.a,{children:[Object(R.jsxs)(d.a,{sx:{height:"100vh",width:"100%",position:"relative",backgroundColor:"#db0285",border:"solid black 0.8vmin",boxSizing:"border-box",overflow:"hidden"},children:[Object(R.jsx)(d.a,{component:"img",src:"".concat(".","/assets/girl7.jpg"),sx:{position:"absolute",bottom:0,left:{xs:"-5%",md:"0"},maxHeight:{xs:"60vh",md:"100%"},maxWidth:{xs:void 0,md:"70vw"}}}),Object(R.jsx)(Y,{sx:{position:"absolute",top:{xs:"10%",md:"0"},right:0},children:"Fullscreen and slideshow modes."})]}),Object(R.jsxs)(d.a,{sx:{height:"103vh",width:"100%",backgroundColor:"white",display:"flex",flexDirection:"column"},children:[Object(R.jsxs)(d.a,{sx:{flexGrow:1,display:"grid",justifyContent:"center",alignContent:"center"},children:[Object(R.jsx)(d.a,{component:"img",src:"".concat(".","/assets/Logo_48.svg"),sx:{height:"48px",width:"48px",justifySelf:"center",margin:"0 0 24px 0"}}),Object(R.jsx)(X,{})]}),Object(R.jsxs)(j.a,{sx:{backgroundColor:"#424242",color:"white"},children:[Object(R.jsx)(W.a,{href:"".concat(".","/about.html"),color:"inherit",underline:"none",children:"About"}),Object(R.jsx)(W.a,{href:"".concat(".","/privacy.html"),color:"inherit",underline:"none",sx:{marginLeft:"24px"},children:"Privacy Policy"}),Object(R.jsx)(W.a,{href:"".concat(".","/terms.html"),color:"inherit",underline:"none",sx:{marginLeft:"24px"},children:"Terms And Conditions"})]})]})]})],q=function(e){var t=e.jumpHeight,n=e.sx;return Object(R.jsx)(d.a,{sx:Object(H.a)(Object(H.a)({},n),{},{backgroundColor:"black"}),children:V.map((function(e,n){return Object(R.jsxs)(o.Fragment,{children:[e,n<V.length-1?Object(R.jsx)(d.a,{sx:{height:"".concat(t,"px")}}):null]},n)}))})},G=n(14),J=n.n(G),K=n(20),_=n(52),U=n(53),Q=function(){function e(){Object(_.a)(this,e),this.observers=[]}return Object(U.a)(e,[{key:"subscribe",value:function(e){this.observers.push(e)}},{key:"once",value:function(e){var t=this;this.subscribe((function n(r){e(r),t.unsubscribe(n)}))}},{key:"unsubscribe",value:function(e){this.observers.splice(this.observers.indexOf(e),1)}},{key:"push",value:function(e){this.observers.forEach((function(t){return t(e)}))}},{key:"unsubscribeAll",value:function(){this.observers=[]}}]),e}(),$=(n(158),"https://www.googleapis.com/auth/drive.metadata.readonly"),ee="https://www.googleapis.com/auth/drive.readonly",te=[$,ee].join(" "),ne=["https://www.googleapis.com/discovery/v1/apis/drive/v3/rest"],re="AIzaSyDAXtOKqc3gYjmuoxZAqQHnBm-xTQi1-Mw",ce=new Q,ie=new Q,ae=new Q,oe=0,se=new Q,le=null,ue=function(e){return new Promise((function(t){return setTimeout(t,e)}))},de=function(e){ce.push(e),e||(c=void 0,se.unsubscribe(fe))},be=function(){var e=Object(K.a)(J.a.mark((function e(){return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,gapi.client.init({apiKey:re,clientId:"321539141956-kn4i96a10682t0l8agfo5158fln9ai5d.apps.googleusercontent.com",scope:te,discoveryDocs:ne});case 3:r=gapi.auth2.getAuthInstance(),de(r.isSignedIn.get()),r.isSignedIn.listen(de),ae.push(),e.next=14;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0),ie.push(e.t0),le=e.t0;case 14:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),je=function(){return new Promise((function(e,t){if(r){var n=r.currentUser.get(),c=n.getAuthResponse(!0).scope,a=c.includes($),o=c.includes(ee);a&&o?e():(i||(i=new Promise((function(e,t){var r=new gapi.auth2.SigninOptionsBuilder;r.setScope("".concat(a?" ":"".concat($," "),o?" ":"".concat(ee," "))),n.grant(r).then((function(){i=void 0;var r=n.getAuthResponse(!0).scope,c=r.includes($),a=r.includes(ee);c&&a?e():t(new Error("access not granted"))}),(function(e){i=void 0,t(e)}))}))),i.then(e).catch(t))}else t(new Error("not authed"))}))},fe=function(e){se.push(e)},he=function(){if(!r)throw new Error("not authed");var e=r.currentUser.get().getAuthResponse(!0).access_token,t=(new Date).getTime();oe=t;var n=new google.picker.DocsView(google.picker.ViewId.DOCS_IMAGES).setMimeTypes("image/apng,image/avif,image/gif,image/jpeg,image/png,image/svg+xml,image/webp").setIncludeFolders(!0).setParent("root");c=(new google.picker.PickerBuilder).addView(n).enableFeature(google.picker.Feature.NAV_HIDDEN).setOAuthToken(e).setDeveloperKey(re).setCallback(fe).build()},xe=function(){var e=Object(K.a)(J.a.mark((function e(){var t;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!c){e.next=14;break}if(t=(new Date).getTime(),!(t-oe>144e4)){e.next=12;break}return c.setVisible(!1),c.dispose(),se.unsubscribeAll(),e.next=10,ue(100);case 10:c=void 0,he();case 12:e.next=15;break;case 14:he();case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Oe=function(){return new Promise((function(e,t){var n=function t(n){if("picked"===n.action){var r=n.docs[0];se.unsubscribe(t),e(r)}else"cancel"===n.action&&(se.unsubscribe(t),e(null))};je().then(xe).then((function(){c?c.setVisible(!0):t(new Error("No Picker")),se.subscribe(n)})).catch(t)}))},me=function(){var e=Object(K.a)(J.a.mark((function e(t){var n;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,je();case 2:return e.next=4,gapi.client.drive.files.get({fileId:t,fields:"id, name, thumbnailLink, webContentLink, imageMediaMetadata/*"});case 4:return n=e.sent,e.abrupt("return",n.result);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ge=function(){var e=Object(K.a)(J.a.mark((function e(t){var n,r,c;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.parentId,r=t.pageToken,e.next=3,je();case 3:return e.next=5,gapi.client.drive.files.list({q:"'".concat(n,"' in parents and mimeType contains 'image/'"),fields:"nextPageToken, files(id, name, thumbnailLink, webContentLink, imageMediaMetadata/*)",pageSize:1e3,orderBy:"name_natural",pageToken:r});case 5:return c=e.sent,e.abrupt("return",c.result);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();!function(e){e[e.Begin=1]="Begin",e[e.End=2]="End"}(a||(a={}));var pe=function(){var e=Object(K.a)(J.a.mark((function e(t){var n,r,c;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.parentId,r=t.edge,e.next=3,je();case 3:return e.next=5,gapi.client.drive.files.list({q:"'".concat(n,"' in parents and mimeType contains 'image/'"),fields:"files(id, name)",pageSize:1,orderBy:r===a.Begin?"name_natural":"name_natural desc"});case 5:return c=e.sent,e.abrupt("return",c.result&&c.result.files?c.result.files:[]);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ve=function(){var e=Object(K.a)(J.a.mark((function e(t){var n;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,je();case 2:return e.next=4,gapi.client.drive.files.get({fileId:t,fields:"*"});case 4:return n=e.sent,e.abrupt("return",n.result);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),we=function(){var e=Object(K.a)(J.a.mark((function e(t){var n,r,c;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.grandParentId,r=t.pageToken,e.next=3,je();case 3:return e.next=5,gapi.client.drive.files.list({q:"'".concat(n,"' in parents and mimeType = 'application/vnd.google-apps.folder'"),fields:"nextPageToken, files(id, name)",pageSize:1e3,orderBy:"name_natural",pageToken:r});case 5:return c=e.sent,e.abrupt("return",c.result);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();gapi.load("client:auth2:picker",be);var ke,Ce,Se="undefined"!==typeof window&&"undefined"!==typeof window.document?window.document:{},ye=function(){for(var e,t=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],n=0,r=t.length,c={};n<r;n++)if((e=t[n])&&e[1]in Se){for(n=0;n<e.length;n++)c[t[0][n]]=e[n];return c}return!1}(),Ee=function(){function e(){Object(_.a)(this,e)}return Object(U.a)(e,null,[{key:"isFullscreen",get:function(){return Boolean(Se[ye.fullscreenElement])}},{key:"on",value:function(e,t){var n="error"===e?ye.fullscreenerror:ye.fullscreenchange;Se.addEventListener(n,t,!1)}},{key:"off",value:function(e,t){var n="error"===e?ye.fullscreenerror:ye.fullscreenchange;Se.removeEventListener(n,t,!1)}},{key:"request",value:function(e){var t=this;return new Promise((function(n,r){var c=function e(){t.off("change",e),n()};t.on("change",c);var i=(e||Se.documentElement)[ye.requestFullscreen]();i instanceof Promise&&i.then(c).catch(r)}))}},{key:"exit",value:function(){var e=this;return new Promise((function(t,n){if(e.isFullscreen){var r=function n(){e.off("change",n),t()};e.on("change",r);var c=Se[ye.exitFullscreen]();c instanceof Promise&&c.then(r).catch(n)}else t()}))}},{key:"toggle",value:function(e){return this.isFullscreen?this.exit():this.request(e)}},{key:"isEnabled",get:function(){return Boolean(Se[ye.fullscreenEnabled])}}]),e}(),Me=n(23),Fe=n(204),Ie="recent",Le=function(){var e=Object(o.useRef)(new AbortController);return Object(o.useEffect)((function(){var t=e.current;return function(){t.abort()}}),[]),e.current.signal},Pe=function(e){var t=Object(o.useState)(!!r&&r.isSignedIn.get()),n=Object(f.a)(t,2),c=n[0],i=n[1],a=Object(o.useState)(null),s=Object(f.a)(a,2),l=s[0],u=s[1],d=Object(o.useState)(le),b=Object(f.a)(d,2),j=b[0],h=b[1],x=Object(o.useState)(!1),O=Object(f.a)(x,2),m=O[0],g=O[1];Object(o.useEffect)((function(){return e=i,ce.subscribe(e),function(){return ce.unsubscribe(e)};var e}),[]),Object(o.useEffect)((function(){return e=h,ie.subscribe(e),function(){return ie.unsubscribe(e)};var e}),[]);var p=Object(o.useCallback)((function(){c?(e&&e(),r&&r.signOut()):r?r.signIn():ae.once((function(){r&&r.signIn()}))}),[c,e]);return Object(o.useEffect)((function(){if(c){var e=r?{imageUrl:r.currentUser.get().getBasicProfile().getImageUrl()}:null;u(e)}else u(null)}),[c]),Object(o.useEffect)((function(){j&&j.details&&"Cookies are not enabled in current environment."===j.details?g(!0):g(!1)}),[j]),{isSignedIn:c,toggleSignedIn:p,profile:l,isCookiesError:m}},Te=function(){var e=Object(o.useState)(Ee.isFullscreen),t=Object(f.a)(e,2),n=t[0],r=t[1],c=Object(o.useState)(Ee.isEnabled),i=Object(f.a)(c,1)[0];return Object(o.useEffect)((function(){if(Ee.isEnabled){var e=function(){var e=Ee.isFullscreen;r(e)};return e(),Ee.on("change",e),function(){Ee.off("change",e)}}}),[]),{isEnabled:i,isFullscreen:n,toggleFullScreen:Object(o.useCallback)((function(e){(function(){var t=Object(K.a)(J.a.mark((function t(){return J.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(Ee.isEnabled){t.next=2;break}return t.abrupt("return");case 2:try{Ee.toggle(e||void 0)}catch(n){console.log(n)}case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[])}},ze=function(e){var t=e.parent,n=e.edge,r=Object(o.useState)(),c=Object(f.a)(r,2),i=c[0],a=c[1],s=Le(),l=Object(o.useRef)(null===t||void 0===t?void 0:t.id);return Object(o.useEffect)((function(){(null===t||void 0===t?void 0:t.id)!==l.current&&(l.current&&a(void 0),l.current=null===t||void 0===t?void 0:t.id)}),[t]),Object(o.useEffect)((function(){var e=function(){var e=Object(K.a)(J.a.mark((function e(){var r;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&t.id){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,pe({parentId:t.id,edge:n});case 5:r=e.sent,s.aborted||(r&&r.length&&r[0]?a(r[0]):a(void 0)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(){return e.apply(this,arguments)}}();t&&t.id?e():a(void 0)}),[t,n,s]),i},Re=function(e,t){var n=function(e,t){var n=Object(o.useState)(),r=Object(f.a)(n,2),c=r[0],i=r[1],a=Object(o.useState)([]),s=Object(f.a)(a,2),l=s[0],u=s[1],d=Object(o.useState)(),b=Object(f.a)(d,2),j=b[0],h=b[1],x=Le(),O=Object(o.useRef)(t),m=Object(o.useState)(!1),g=Object(f.a)(m,2),p=g[0],v=g[1],w=Object(o.useState)(!1),k=Object(f.a)(w,2),C=k[0],S=k[1];Object(o.useEffect)((function(){var n=function(){var t=Object(K.a)(J.a.mark((function t(){var n;return J.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,me(e);case 3:n=t.sent,!x.aborted&&n&&i(n),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}();(t!==O.current||C)&&(S(!1),O.current&&(u([]),i(void 0),h(void 0),v(!1)),O.current=t,e?n():i(void 0))}),[t,e,C,x]),Object(o.useEffect)((function(){t&&!p&&function(){var e=Object(K.a)(J.a.mark((function e(){var n;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,ge({parentId:t,pageToken:j});case 5:n=e.sent,!x.aborted&&n&&(u((function(e){return e.concat(n.files||[])})),v(!n.nextPageToken),h(n.nextPageToken)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(){return e.apply(this,arguments)}}()()}),[t,j,x,p]);var y=Object(o.useCallback)((function(){S(!0)}),[]);return{files:Object(o.useMemo)((function(){return c&&c.id&&!l.find((function(e){return e.id===c.id}))?[c]:l}),[c,l]),isFinished:p,clear:y}}(e,t),r=n.files,c=n.isFinished,i=n.clear,s=function(e){var t=Object(o.useState)(void 0),n=Object(f.a)(t,2),r=n[0],c=n[1],i=Le(),a=Object(o.useRef)(e);return Object(o.useEffect)((function(){e!==a.current&&(a.current&&c(void 0),a.current=e)}),[e]),Object(o.useEffect)((function(){e&&function(){var t=Object(K.a)(J.a.mark((function t(){var n;return J.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=2;break}return t.abrupt("return");case 2:return t.prev=2,t.next=5,ve(e);case 5:n=t.sent,!i.aborted&&n&&c(n),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(2),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[2,9]])})));return function(){return t.apply(this,arguments)}}()()}),[e,i]),r}(t),l=function(e){var t=Object(o.useState)([]),n=Object(f.a)(t,2),r=n[0],c=n[1],i=Object(o.useState)(),a=Object(f.a)(i,2),s=a[0],l=a[1],u=Object(o.useRef)(e),d=Object(o.useRef)([]),b=Object(o.useState)(!1),j=Object(f.a)(b,2),h=j[0],x=j[1],O=Le();return Object(o.useEffect)((function(){e?e===u.current&&(c(d.current),l(void 0),x(!0)):(c([]),l(void 0),x(!1))}),[e,O]),Object(o.useEffect)((function(){var t=function(){var t=Object(K.a)(J.a.mark((function t(){var n;return J.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=2;break}return t.abrupt("return");case 2:return t.prev=2,t.next=5,we({grandParentId:e,pageToken:s});case 5:n=t.sent,!O.aborted&&n&&(c((function(e){return e.concat(n.files||[])})),x(!n.nextPageToken),l(n.nextPageToken)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(2),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[2,9]])})));return function(){return t.apply(this,arguments)}}();e&&!h&&e!==u.current&&t()}),[e,h,s,O]),Object(o.useEffect)((function(){h&&e&&(d.current=r.slice(),u.current=e)}),[e,r,h]),r}(function(e){var t=Object(o.useState)(),n=Object(f.a)(t,2),r=n[0],c=n[1];return Object(o.useEffect)((function(){c(e&&e.parents?e.parents[0]:void 0)}),[e]),r}(s)),u=Object(o.useMemo)((function(){return l.findIndex((function(e){return e.id===t}))}),[t,l]),d=Object(o.useMemo)((function(){return l[u-1]?l[u-1]:void 0}),[l,u]),b=Object(o.useMemo)((function(){return l[u+1]?l[u+1]:void 0}),[l,u]),j=ze({parent:d,edge:a.End}),h=ze({parent:b,edge:a.Begin}),x=Object(o.useRef)(0);return{isFinished:c,files:r,parent:s,prevDirFile:j,prevDirectory:d,nextDirFile:h,nextDirectory:b,onImageError:Object(o.useCallback)((function(){var e=(new Date).getTime();e-x.current>3e5&&(x.current=e,i())}),[i])}},Ae=function(){return Object(Fe.a)("(pointer:coarse)")},He=function(e,t){var n=Object(o.useState)(e),r=Object(f.a)(n,2),c=r[0],i=r[1];return Object(o.useEffect)((function(){var n=setTimeout((function(){i(e)}),t);return function(){clearTimeout(n)}}),[e,t]),c},De=function(){var e=Object(o.useRef)(null),t=Object(o.useState)({width:0,height:0}),n=Object(f.a)(t,2),r=n[0],c=n[1],i=He(r,150),a=Le(),s=Object(o.useCallback)(Object(K.a)(J.a.mark((function t(){return J.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:requestAnimationFrame((function(){var t=e.current;t&&!a.aborted&&c({width:t.offsetWidth,height:t.offsetHeight})}));case 1:case"end":return t.stop()}}),t)}))),[a]);return Object(o.useEffect)((function(){return s(),window.addEventListener("resize",s),function(){window.removeEventListener("resize",s)}}),[s,a]),{ref:e,rectSize:i}},Be=function(e,t,n,r,c){return-(c-r)/2*(Math.cos(Math.PI*(e-t)/(n-t))-1)+r},We=function(e){var t=e.slides,n=e.slideHeight,r=e.jumpHeight,c=e.scrollTop,i=e.isJumping,a=e.setJumping,s=e.sx,l=Object(o.useMemo)((function(){return 1.3*n}),[n]),u=Object(o.useCallback)((function(){return[Math.random()*l/2,Math.random()*l/2,Math.random()*l/2]}),[l]),b=Object(o.useMemo)((function(){for(var e=[],n=new Map,r=0;r<t.length;r++){var c=t[r],i=3*r+1,a=Math.floor(3*Math.random())+1,o=5*i+a,s={row:i,column:a,shift:u(),slide:c};e.push(s),n.set(o,s)}return{list:e,hash:n}}),[u,t]),j=Object(o.useMemo)((function(){for(var e=[],r=3*t.length,c=0;c<r;c++)for(var i=0;i<5;i++){var a=5*c+i,o=b.hash.get(a);if(o){var s=o.slide,j=o.shift,f=l*i+j[0],h=l*c+j[1],x=j[2];e.push(Object(R.jsx)(d.a,{sx:{transform:"translate3d(".concat(f,"px, ").concat(h,"px, ").concat(x,"px)"),position:"absolute",width:"100%"},children:s},a))}else{var O=u(),m=l*i+O[0],g=l*c+O[1],p=O[2];e.push(Object(R.jsx)(d.a,{component:"img",src:"https://picsum.photos/300/400?random=".concat(a),loading:"lazy",sx:{height:"".concat(n,"px"),width:"auto",transform:"translate3d(".concat(m,"px, ").concat(g,"px, ").concat(p,"px)"),position:"absolute"}},a))}}return e}),[n,l,u,t.length,b]),f=De(),h=f.rectSize,x=f.ref,O=Object(o.useCallback)((function(e){var t=n+r,c=Math.floor(e/t),i=e%t,a=n-h.height;if(i<=a||c>=b.list.length-1){var o=b.list[c];return[-(l*o.column+o.shift[0]),-(l*o.row+o.shift[1])-i,-o.shift[2]]}var s=b.list[c],u=b.list[c+1],d=l*s.column+s.shift[0],j=l*s.row+s.shift[1]+a,f=s.shift[2],x=l*u.column+u.shift[0],O=l*u.row+u.shift[1],m=u.shift[2];return[-Be(i,a,t,d,x),-Be(i,a,t,j,O),-function(e,t,n,r,c,i,a){var o=t+(r-t)*n;return e<o?Be(e,t,o,c,i):e<r-o?i:Be(e,r-o,r,i,a)}(i,a,.3,t,f,1.5*n,m)]}),[n,r,h.height,l,b])(c);Object(o.useEffect)((function(){var e=n-h.height;c%(n+r)>e&&a(!0)}),[n,r,h.height,a,c]);var m=He(c,1e3);return Object(o.useEffect)((function(){var e=n-h.height;m%(n+r)<=e&&a(!1)}),[n,r,h.height,a,m]),Object(R.jsx)(d.a,{sx:Object(H.a)(Object(H.a)({},s),{},{backgroundColor:"black",perspective:"25vh",willChange:"transform"}),ref:x,children:Object(R.jsx)(d.a,{sx:{position:"relative",transformStyle:"preserve-3d",transform:"translate3d(".concat(O.map((function(e){return"".concat(e,"px")})).join(","),")"),transition:i?"transform 1s ease-out":void 0},children:j})})},Ze=function(){var e=function(){var e=Object(o.useState)(0),t=Object(f.a)(e,2),n=t[0],r=t[1],c=Le();return Object(o.useEffect)((function(){var e=function(){c.aborted||r(+document.documentElement.scrollTop)};return document.addEventListener("scroll",e),function(){return document.removeEventListener("scroll",e)}}),[c]),n}(),t=Ae(),n=Math.round(2.03*document.documentElement.clientHeight),r=Object(o.useState)(!1),c=Object(f.a)(r,2),i=c[0],a=c[1],s=Object(o.useMemo)((function(){return t?20:2500}),[t]);return Object(R.jsxs)(d.a,{children:[Object(R.jsxs)(d.a,{sx:{position:"fixed",top:0,right:0,bottom:0,left:0,display:"flex",flexDirection:"column",zIndex:i?void 0:-1},children:[Object(R.jsx)(j.a,{}),t?null:Object(R.jsx)(We,{scrollTop:e,slideHeight:n,jumpHeight:s,slides:V,isJumping:i,setJumping:a,sx:{flexGrow:1,overflow:"hidden",visibility:i?"visible":"hidden"}})]}),Object(R.jsx)(q,{jumpHeight:s,sx:{visibility:i?"hidden":"visible"}})]})},Ne=function(){return Object(R.jsxs)(d.a,{children:[Object(R.jsx)(b.a,{position:"fixed",sx:{zIndex:function(e){return e.zIndex.drawer+1}},children:Object(R.jsx)(A,{})}),Object(R.jsxs)(d.a,{component:"main",children:[Object(R.jsx)(j.a,{}),Object(R.jsx)(Ze,{})]})]})},Ye=n(6),Xe=n(120),Ve=n(216),qe=n(37),Ge=n(226),Je=function(e){return e.file.name||e.counter},Ke=function(e){var t=e.item,n=e.isActive,r=e.onClick,c=t.file,i=t.counter,a=t.onImageError;return Object(R.jsxs)(d.a,{sx:Object(H.a)({height:220,width:220,borderRadius:"6px",cursor:"pointer",boxSizing:"border-box",overflow:"hidden",display:"grid",alignContent:"center",justifyContent:"center",position:"relative"},n?{bgcolor:"common.black"}:{border:"1px solid #dadce0"}),onClick:r,children:[Object(R.jsx)("img",{src:c.thumbnailLink,alt:c.name,onError:a}),Object(R.jsx)(Ge.a,{title:c.name,subtitle:"#".concat(i),sx:Object(H.a)({},!n&&Object(Ye.a)({background:"rgba(255, 255, 255, 0.5)"},"& .MuiImageListItemBar-titleWrap",{color:"common.black"}))})]})},_e=s.a.memo(Ke,(function(e,t){return e.item.file.id===t.item.file.id&&e.item.counter===t.item.counter&&e.isActive===t.isActive})),Ue=function(e,t){var n=e.items,r=e.itemHeight,c=e.itemWidth,i=e.ItemElement,a=e.itemToKey,s=e.activeIndex,l=e.onActive,u=e.scrollToIndex,b=e.onVisibleRows,j=e.numColumns,h=e.center,x=e.sx,O=De(),m=O.ref,g=O.rectSize,p=Object(o.useMemo)((function(){return Object(H.a)({},g)}),[g]),v=p.width,w=p.height,k=n.length,C=j||(v&&c?Math.floor((v+4-20)/(c+4)):1),S=Math.ceil(k/C),y=function(e){var t=Object(o.useState)(0),n=Object(f.a)(t,2),r=n[0],c=n[1],i=Le(),a=Object(o.useState)(!1),s=Object(f.a)(a,2),l=s[0],u=s[1],d=Object(o.useRef)(),b=Object(o.useCallback)((function(){d.current&&clearTimeout(d.current),u(!0),d.current=setTimeout((function(){i.aborted||u(!1)}),300)}),[i]);return Object(o.useEffect)((function(){var t=e.current;if(t){var n=function(e){var t=e.target;t&&(c(+t.scrollTop),b())};return c(t.scrollTop),t.addEventListener("scroll",n),function(){return t.removeEventListener("scroll",n)}}}),[e,b]),{scrollTop:r,isScrolling:l}}(m),E=y.scrollTop,M=y.isScrolling,F=S*r+4*(S-1),I=Math.max(0,Math.floor(E/(r+4))-1),L=I*C,P=Math.min(k-L,(1+(Math.ceil(w/(r+4))+2)+1)*C),T=I*(r+4),z=Math.floor(E/(r+4)),A=Math.floor((E+w)/(r+4));Object(o.useEffect)((function(){if(b){for(var e=[],t=z;t<=A;t++)e.push(t);b(e)}}),[z,A,b]);var D=Object(o.useMemo)((function(){return n.slice(L,L+P).map((function(e,t){return Object(R.jsx)(i,{item:e,isActive:L+t===s,onClick:function(){l(L+t)}},a(e))}))}),[i,s,a,n,l,L,P]),B=v?"repeat(".concat(C,", ").concat(c,"px)"):"repeat(auto-fill, ".concat(c,"px)"),W=Object(o.useCallback)((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"center",n=e&&Math.floor(e/C),c=0;if("smart"===t){var i=n&&Math.ceil(n*(r+4)),a=i+r,o=E+w;if(i>=E&&a<=o)return E;a>E&&i<E?c=0:i<o&&a>o&&(c=w-r)}else c=Math.ceil(w/2-r/2);var s=e&&n&&Math.ceil(n*(r+4))-c;if(m.current){var l=m.current;l.scroll(0,s)}}),[m,w,r,C,E]);return Object(o.useImperativeHandle)(t,(function(){return{scrollToIndex:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"center";W(e,t)}}}),[W]),Object(o.useEffect)((function(){void 0!==u&&W(u)}),[W,u]),Object(R.jsx)(d.a,{component:"div",ref:m,sx:Object(H.a)(Object(H.a)({},x),{},{overflowY:"auto",willChange:"transform"}),children:v?Object(R.jsx)(d.a,{component:"div",sx:{overflow:"hidden",position:"relative",height:"".concat(F,"px"),pointerEvents:M?"none":void 0},children:Object(R.jsx)(d.a,{component:"div",sx:Object(H.a)({width:"100%",position:"absolute",display:"grid",gap:"4px",top:"".concat(T,"px"),gridTemplateColumns:B},h&&{justifyContent:"center",justifyItems:"center"}),children:D})}):null})},Qe=Object(o.forwardRef)(Ue),$e=function(e){var t=e.files,n=void 0===t?[]:t,r=e.fileId,c=e.onSelect,i=e.onVisibleFiles,a=e.onImageError,s=e.sx,l=Object(o.useRef)(null),u=Object(o.useRef)(0),d=Object(o.useMemo)((function(){return r&&n&&n.length>0?n.findIndex((function(e){return e.id===r})):-1}),[r,n]),b=Object(o.useMemo)((function(){return n.map((function(e,t){return{file:e,counter:t+1,onImageError:a}}))}),[n,a]),j=Object(o.useCallback)((function(e){var t=n[e];l.current&&t.id&&(u.current=e,l.current.scrollToIndex(e,"smart"),c(t.id))}),[n,c]);return Object(o.useEffect)((function(){l.current&&d!==u.current&&(u.current=d,l.current.scrollToIndex(d))}),[d]),Object(R.jsx)(Qe,{items:b,ItemElement:_e,itemHeight:220,numColumns:1,center:!0,itemToKey:Je,sx:s,activeIndex:d,onActive:j,ref:l,onVisibleRows:i})},et=function(e){return Math.round(100*Math.pow(5,e))},tt=function(){var e=Object(o.useState)(0),t=Object(f.a)(e,2),n=t[0],r=t[1],c=Le(),i=Object(o.useCallback)((function(e,t){requestAnimationFrame((function(){Array.isArray(t)||c.aborted||r(t)}))}),[c.aborted]),a=Object(o.useCallback)((function(){r((function(e){return Math.max(-1,e-.2)}))}),[]),s=Object(o.useCallback)((function(){r((function(e){return Math.min(1,e+.2)}))}),[]),l=Object(o.useMemo)((function(){return et(n)}),[n]),u=Object(o.useCallback)((function(e){r((function(t){var n=et(t),r=function(e){return Math.log(e/100)/Math.log(5)}(e(n));return r>t?Math.min(1,r):Math.max(-1,r)}))}),[]);return{sliderValue:n,sliderScale:et,onSliderChange:i,onZoomMinus:a,onZoomPlus:s,zoom:l,setZoom:u}},nt=n(64),rt=n.n(nt),ct=n(63),it=n.n(ct),at=n(67),ot=n.n(at),st=n(68),lt=n.n(st),ut=n(69),dt=n.n(ut),bt=n(70),jt=n.n(bt),ft=n(71),ht=n.n(ft),xt=n(66),Ot=n.n(xt),mt=n(65),gt=n.n(mt),pt=n(205),vt=n(212),wt=n(121),kt=n.n(wt),Ct=n(122),St=n.n(Ct),yt=function(e){var t=e.sliderValue,n=e.onSliderChange,r=e.sliderScale,c=e.onZoomMinus,i=e.onZoomPlus,a=e.sx;return Object(R.jsxs)(pt.a,{spacing:1,direction:"row",alignItems:"center",sx:Object(H.a)({position:"absolute",left:"50%",transform:"translate(-50%,0)",bottom:{xs:"60px",md:"20px"},backgroundColor:"rgba(0, 0, 0, 0.5)",width:"200px",zIndex:1},a),children:[Object(R.jsx)(h.a,{onClick:c,children:Object(R.jsx)(kt.a,{color:"primary"})}),Object(R.jsx)(vt.a,{value:t,onChange:n,step:1e-8,min:-1,max:1,valueLabelDisplay:"auto",scale:r}),Object(R.jsx)(h.a,{onClick:i,children:Object(R.jsx)(St.a,{color:"primary"})})]})},Et=n(49),Mt=n(41),Ft=Object(Mt.b)(ke||(ke=Object(Et.a)(["\n  0% {\n    opacity: 1;\n  }\n  50% {\n    opacity: 0.4;\n  }\n  100% {\n    opacity: 1;\n  }\n"]))),It=function(e){var t=e.width,n=e.height,r=e.sx;return Object(R.jsx)(d.a,{component:"svg",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(t," ").concat(n),sx:Object(H.a)({bgcolor:"grey.900",animation:"".concat(Ft," 1.5s ease-in-out 0.5s infinite"),width:"".concat(t,"px"),height:"".concat(n,"px")},r)})},Lt=function(e){var t=e.file,n=e.containerRectSize,r=e.fitMode,c=e.zoom,i=void 0===c?100:c,a=e.isSlideshowPlaying,s=e.isScrollDisabled,l=e.onPrevImage,u=e.onNextImage,b=e.onImageError,j=e.isPreload,h=e.onOverflowChanged,x=e.setZoom,O=e.sx,m=Object(o.useState)(0),g=Object(f.a)(m,2),p=g[0],v=g[1],w=Object(o.useRef)(i),k=function(){var e=Object(o.useState)(0),t=Object(f.a)(e,2),n=t[0],r=t[1];return Object(o.useEffect)((function(){var e,t=document.createElement("div");t.style.visibility="hidden",t.style.overflow="scroll",document.body.appendChild(t);var n=document.createElement("div");t.appendChild(n);var c=t.offsetWidth-n.offsetWidth;null===(e=t.parentNode)||void 0===e||e.removeChild(t),r(c)}),[]),n}(),C=Object(o.useRef)(!1),S=function(e){var t=e.isDisabled,n=e.wheelCount,r=void 0===n?3:n,c=e.onScrollOverTop,i=e.onScrollBelowBottom,a=e.isOverflow,s=Object(o.useRef)(null),l=Object(o.useRef)(0),u=Object(o.useRef)(0),d=Object(o.useRef)(0),b=Object(o.useCallback)((function(){if(s.current){var e=s.current,t=e.scrollHeight-e.offsetHeight;if(l.current>=t&&i)i();else{var n=Math.max(e.offsetHeight-50,50);e.scroll(0,l.current+n)}}}),[i]);return Object(o.useEffect)((function(){var e=s.current;if(e){var n=function(e){t||requestAnimationFrame((function(){var t=e.target;t&&(l.current=+t.scrollTop)}))};return e.addEventListener("scroll",n),function(){return e.removeEventListener("scroll",n)}}}),[t]),Object(o.useEffect)((function(){var e=s.current;if(e&&!t){var n=function(e){var t=s.current;if(!(a||e.shiftKey||e.ctrlKey)&&t){var n=t.scrollHeight-t.offsetHeight;e.deltaY<0&&(d.current=0,l.current<=0&&(u.current+=1),c&&(n<=0||u.current>=r)&&(u.current=0,c())),e.deltaY>0&&(u.current=0,l.current>=n&&(d.current+=1),i&&(n<=0||d.current>=r)&&(d.current=0,i()))}};return e.addEventListener("wheel",n),function(){return e.removeEventListener("wheel",n)}}}),[t,r,c,i,a]),{ref:s,scrollNextSlide:b}}({isDisabled:s,wheelCount:3,onScrollOverTop:l,onScrollBelowBottom:u,isOverflow:C.current}),y=S.ref,E=S.scrollNextSlide;Object(o.useEffect)((function(){if(a){var e=setInterval(E,5e3);return function(){clearInterval(e)}}}),[a,E]),Object(o.useEffect)((function(){if(t&&t.imageMediaMetadata&&t.imageMediaMetadata.width&&t.imageMediaMetadata.height&&n.width&&n.height){var e=t.imageMediaMetadata.width,c=t.imageMediaMetadata.height,a=n.width,o=n.height;if(r===Ce.Best){var s=e>a?a/e:1,l=c>o?o/c:1,u=Math.min(s,l);w.current=100*u}else if(r===Ce.Width){var d=1;if(e>a)c*(d=a/e)>o&&a>k&&(d=(a-k)/e);w.current=100*d}else if(r===Ce.Height){var b=1;if(c>o)e*(b=o/c)>a&&o>k&&(b=(o-k)/c);w.current=100*b}else if(r===Ce.Original){w.current=100}else r===Ce.Manual&&(w.current=i);v(w.current)}}),[n,t,r,k,i]);var M=Object(o.useMemo)((function(){if(t&&t.imageMediaMetadata&&t.imageMediaMetadata.width&&t.imageMediaMetadata.height&&n.width&&n.height){var e=Math.round(t.imageMediaMetadata.width*p/100),r=Math.round(t.imageMediaMetadata.height*p/100),c=e>n.width,i=r>n.height?n.width-k:n.width,a=c?n.height-k:n.height;return{imageWidth:e,imageHeight:r,left:e<i?(i-e)/2:0,top:r<a?(a-r)/2:0}}return{imageWidth:0,imageHeight:0,left:0,top:0}}),[n.width,n.height,t,p,k]),F=M.imageWidth,I=M.imageHeight,L=M.left,P=M.top;Object(o.useEffect)((function(){F&&n.width&&(C.current=F>n.width,h&&h(C.current))}),[h,F,n.width]);var T=Object(o.useRef)(null);Object(o.useEffect)((function(){var e=y.current;if(e){var t=function(t){if(t.ctrlKey){t.preventDefault();var n=r===Ce.Manual&&x?x:v,c=r===Ce.Manual?0:w.current,i=r===Ce.Manual?1/0:100;n((function(n){var r=t.deltaY<0?Math.min(i,1.4*n):Math.max(c,.6*n);return r!==n&&function(t,n){T.current={localZoom:n,offsetX:t.offsetX,offsetY:t.offsetY,scrollX:e.scrollLeft,scrollY:e.scrollTop}}(t,n),r}))}};return e.addEventListener("wheel",t),function(){return e.removeEventListener("wheel",t)}}}),[y,r,x]),Object(o.useEffect)((function(){var e=T.current,t=y.current;if(e&&t&&e.localZoom&&p){var n=e.offsetX/e.localZoom*p,r=e.offsetY/e.localZoom*p,c=e.scrollX-e.offsetX+n,i=e.scrollY-e.offsetY+r;t.scroll(c,i),T.current=null}}),[p,y]);var z=Object(o.useRef)([]),A=Object(o.useRef)(-1);return Object(o.useEffect)((function(){var e=y.current;if(e){var t=function(e){z.current.push(e)},n=function(t){for(var n=0;n<z.current.length;n++)if(t.pointerId===z.current[n].pointerId){z.current[n]=t;break}if(2===z.current.length){var c=Math.sqrt(Math.pow(z.current[0].clientX-z.current[1].clientX,2)+Math.pow(z.current[0].clientY-z.current[1].clientY,2)),i={offsetX:(z.current[0].offsetX+z.current[1].offsetX)/2,offsetY:(z.current[0].offsetY+z.current[1].offsetY)/2};if(A.current&&A.current>0&&c!==A.current){var a=r===Ce.Manual&&x?x:v,o=r===Ce.Manual?0:w.current,s=r===Ce.Manual?1/0:100;a((function(t){var n=c>A.current?Math.min(s,t*c/A.current):Math.max(o,t*c/A.current);if(n!==t){var a={localZoom:t,offsetX:i.offsetX,offsetY:i.offsetY,scrollX:e.scrollLeft,scrollY:e.scrollTop};r!==Ce.Manual&&function(t,n){var r=t.offsetX/t.localZoom*n,c=t.offsetY/t.localZoom*n,i=t.scrollX-t.offsetX+r,a=t.scrollY-t.offsetY+c;e.scroll(i,a)}(a,n)}return n}))}A.current=c}},c=function(e){for(var t=0;t<z.current.length;t++)if(e.pointerId===z.current[t].pointerId){z.current.splice(t,1);break}z.current.length<2&&(A.current=-1)};return e.addEventListener("pointerdown",t),e.addEventListener("pointermove",n),e.addEventListener("pointerup",c),e.addEventListener("pointercancel",c),e.addEventListener("pointerout",c),e.addEventListener("pointerleave",c),function(){e.removeEventListener("pointerdown",t),e.removeEventListener("pointermove",n),e.removeEventListener("pointerup",c),e.removeEventListener("pointercancel",c),e.removeEventListener("pointerout",c),e.removeEventListener("pointerleave",c)}}}),[y,r,x]),Object(R.jsx)(d.a,{sx:Object(H.a)({textAlign:"center",overflow:"auto",whiteSpace:"nowrap",position:"relative",touchAction:"pan-x pan-y"},O),ref:y,children:!!t&&p>0&&Object(R.jsxs)(R.Fragment,{children:[!j&&Object(R.jsx)(It,{width:F,height:I,sx:{position:"absolute",left:"".concat(L,"px"),top:"".concat(P,"px")}}),Object(R.jsx)(d.a,{component:"img",src:t.webContentLink,alt:t.name,onClick:u,onError:b,sx:{position:"absolute",left:"".concat(L,"px"),top:"".concat(P,"px"),height:"".concat(I,"px"),width:"".concat(F,"px")}},t.id)]})})},Pt=100,Tt=Object(o.forwardRef)((function(e,t){var n=e.fitMode,r=e.fileId,c=e.file,i=e.canPrev,a=e.prevFile,s=e.canNext,l=e.nextFile,u=e.preloadFiles,b=e.onNextImage,j=e.onPrevImage,h=e.onFitModeChange,p=e.sx,v=e.isScrollToBottom,w=e.isSlideshowEnabled,k=e.isSlideshowPlaying,C=e.onToggleSlideshowPlaying,S=e.onImageError,y=Object(o.useState)(null),E=Object(f.a)(y,2),M=E[0],F=E[1],I=Ae(),L=De(),P=L.ref,T=L.rectSize,z=Object(o.useState)(!1),A=Object(f.a)(z,2),D=A[0],B=A[1],W=Object(o.useRef)(null);!function(e){var t=e.width,n=e.gap,r=e.ref,c=e.activeIndex,i=e.contentHash,a=e.isEnabled,s=e.onPrevImage,l=e.onNextImage,u=Object(o.useRef)(i);Object(o.useEffect)((function(){a&&t&&r.current&&(r.current.scrollLeft=(t+20)*c,u.current=i)}),[a,t,r,c,i]),Object(o.useEffect)((function(){var e=function(e){var r=e.target;if(r){var a=r.scrollLeft/(t+n);Math.ceil(a)<c&&s&&s(),Math.floor(a)>c&&l&&(console.log(r.scrollLeft,t,u.current,i),l())}};if(a&&t&&r.current){var o=r.current;return o.addEventListener("scroll",e),function(){return o.removeEventListener("scroll",e)}}}),[a,t,n,r,c,s,l,i])}({activeIndex:i?1:0,gap:20,ref:W,width:T.width,contentHash:r,isEnabled:I,onPrevImage:j,onNextImage:b});var Z=Te(),N=Z.isEnabled,Y=Z.isFullscreen,X=Z.toggleFullScreen;Object(o.useImperativeHandle)(t,(function(){return{toggleFullscreen:function(){N&&X(P.current)}}}),[P,N,X]);var V=Object(o.useCallback)((function(e){e.preventDefault(),F((function(t){return t?null:{x:e.clientX-2,y:e.clientY-4}}))}),[]),q=Object(o.useCallback)((function(){F(null)}),[]),G=Object(o.useCallback)((function(){N&&X(P.current),q()}),[N,P,X,q]),J=Object(o.useCallback)((function(){h(Ce.Best),q()}),[h,q]),K=Object(o.useCallback)((function(){h(Ce.Width),q()}),[h,q]),_=Object(o.useCallback)((function(){h(Ce.Height),q()}),[h,q]),U=Object(o.useCallback)((function(){h(Ce.Original),q()}),[h,q]),Q=Object(o.useCallback)((function(){h(Ce.Manual),q()}),[h,q]),$=Object(o.useCallback)((function(){C(),q()}),[C,q]),ee=tt(),te=ee.sliderValue,ne=ee.sliderScale,re=ee.onSliderChange,ce=ee.onZoomMinus,ie=ee.onZoomPlus,ae=ee.zoom,oe=ee.setZoom,se=He(a,v?Pt:0),le=He(l,v?0:Pt),ue=He(n,Pt),de=He(ae,Pt);return Object(R.jsxs)(d.a,{sx:Object(H.a)(Object(H.a)({},p),{},{overflow:"hidden",bgcolor:"common.black",position:"relative"}),ref:P,onContextMenu:V,children:[Object(R.jsx)(Lt,{sx:{position:"absolute",top:0,left:0,right:0,bottom:0},file:v?se:le,containerRectSize:T,fitMode:ue,zoom:de,isScrollDisabled:!0,isPreload:!0}),Object(R.jsx)(d.a,{sx:{position:"absolute",left:0,right:0,top:0,bottom:0,bgcolor:"common.black"}}),Object(R.jsx)(d.a,{sx:Object(H.a)({position:"absolute",left:0,right:0,top:0,bottom:0},D?{overflow:"hidden"}:{overflowX:"scroll",overflowY:"hidden",scrollSnapType:"x mandatory","::-webkit-scrollbar":{display:"none"}}),ref:W,children:Object(R.jsxs)(d.a,{sx:{display:"flex",height:"100%",gap:"".concat(20,"px")},children:[I&&i&&Object(R.jsx)(Lt,{sx:{flex:"1 0 100%",scrollSnapAlign:"center"},file:(null===se||void 0===se?void 0:se.id)!==r?se:void 0,containerRectSize:T,fitMode:ue,zoom:de,isScrollDisabled:!0,onImageError:S},(null===a||void 0===a?void 0:a.id)||"prev"),Object(R.jsx)(Lt,{sx:{flex:"1 0 100%",scrollSnapAlign:"center"},file:c,containerRectSize:T,fitMode:n,zoom:ae,isSlideshowPlaying:k,onPrevImage:j,onNextImage:b,onImageError:S,onOverflowChanged:B,setZoom:oe},r||"current"),I&&s&&Object(R.jsx)(Lt,{sx:{flex:"1 0 100%",scrollSnapAlign:"center"},file:(null===le||void 0===le?void 0:le.id)!==r?le:void 0,containerRectSize:T,fitMode:ue,zoom:de,isScrollDisabled:!0,onImageError:S},(null===l||void 0===l?void 0:l.id)||"next"),u.map((function(e){return Object(R.jsx)(d.a,{component:"img",src:e.webContentLink,alt:e.name,sx:{display:"none"}},e.id)}))]})}),Object(R.jsxs)(x.a,{container:P.current,disableScrollLock:!0,open:!!M,onClose:q,anchorReference:"anchorPosition",anchorPosition:M?{top:M.y,left:M.x}:void 0,children:[N&&Object(R.jsxs)(O.a,{onClick:G,children:[Object(R.jsx)(m.a,{children:Y?Object(R.jsx)(it.a,{}):Object(R.jsx)(rt.a,{})}),Object(R.jsx)(g.a,{children:Y?"Exit Fullscreen":"Enter Fullscreen"})]}),w&&Object(R.jsxs)(O.a,{onClick:$,children:[Object(R.jsx)(m.a,{children:k?Object(R.jsx)(gt.a,{}):Object(R.jsx)(Ot.a,{})}),Object(R.jsx)(g.a,{children:k?"End Slideshow":"Start Slideshow"})]}),Object(R.jsxs)(O.a,{onClick:J,sx:{backgroundColor:n===Ce.Best?"rgba(0, 0, 0, 0.08)":void 0},children:[Object(R.jsx)(m.a,{children:Object(R.jsx)(ot.a,{})}),Object(R.jsx)(g.a,{children:"Best Fit"})]}),Object(R.jsxs)(O.a,{onClick:K,sx:{backgroundColor:n===Ce.Width?"rgba(0, 0, 0, 0.08)":void 0},children:[Object(R.jsx)(m.a,{children:Object(R.jsx)(lt.a,{})}),Object(R.jsx)(g.a,{children:"Fit Width"})]}),Object(R.jsxs)(O.a,{onClick:_,sx:{backgroundColor:n===Ce.Height?"rgba(0, 0, 0, 0.08)":void 0},children:[Object(R.jsx)(m.a,{children:Object(R.jsx)(dt.a,{})}),Object(R.jsx)(g.a,{children:"Fit Height"})]}),Object(R.jsxs)(O.a,{onClick:U,sx:{backgroundColor:n===Ce.Original?"rgba(0, 0, 0, 0.08)":void 0},children:[Object(R.jsx)(m.a,{children:Object(R.jsx)(jt.a,{})}),Object(R.jsx)(g.a,{children:"Original Size"})]}),Object(R.jsxs)(O.a,{onClick:Q,sx:{backgroundColor:n===Ce.Manual?"rgba(0, 0, 0, 0.08)":void 0},children:[Object(R.jsx)(m.a,{children:Object(R.jsx)(ht.a,{})}),Object(R.jsx)(g.a,{children:"Manual Zoom"})]})]}),n===Ce.Manual&&Object(R.jsx)(yt,{sliderValue:te,onSliderChange:re,sliderScale:ne,onZoomMinus:ce,onZoomPlus:ie})]})})),zt=n(206),Rt=n(214),At=n(227),Ht=n(215),Dt=n(104),Bt=n.n(Dt),Wt=n(105),Zt=n.n(Wt),Nt=n(129),Yt=n.n(Nt),Xt=n(130),Vt=n.n(Xt),qt=n(85),Gt=n.n(qt),Jt=n(125),Kt=n.n(Jt),_t=n(126),Ut=n.n(_t),Qt=n(127),$t=n.n(Qt),en=n(131),tn=n.n(en),nn=n(136),rn=function(){return Object(R.jsx)(nn.a,{fontSize:"small",children:Object(R.jsxs)("g",{transform:"matrix(1, 0, 0, 1, 27.009001, -39.238998)",children:[Object(R.jsx)("path",{fill:"#4285F4",d:"M -3.264 51.509 C -3.264 50.719 -3.334 49.969 -3.454 49.239 L -14.754 49.239 L -14.754 53.749 L -8.284 53.749 C -8.574 55.229 -9.424 56.479 -10.684 57.329 L -10.684 60.329 L -6.824 60.329 C -4.564 58.239 -3.264 55.159 -3.264 51.509 Z"}),Object(R.jsx)("path",{fill:"#34A853",d:"M -14.754 63.239 C -11.514 63.239 -8.804 62.159 -6.824 60.329 L -10.684 57.329 C -11.764 58.049 -13.134 58.489 -14.754 58.489 C -17.884 58.489 -20.534 56.379 -21.484 53.529 L -25.464 53.529 L -25.464 56.619 C -23.494 60.539 -19.444 63.239 -14.754 63.239 Z"}),Object(R.jsx)("path",{fill:"#FBBC05",d:"M -21.484 53.529 C -21.734 52.809 -21.864 52.039 -21.864 51.239 C -21.864 50.439 -21.724 49.669 -21.484 48.949 L -21.484 45.859 L -25.464 45.859 C -26.284 47.479 -26.754 49.299 -26.754 51.239 C -26.754 53.179 -26.284 54.999 -25.464 56.619 L -21.484 53.529 Z"}),Object(R.jsx)("path",{fill:"#EA4335",d:"M -14.754 43.989 C -12.984 43.989 -11.404 44.599 -10.154 45.789 L -6.734 42.369 C -8.804 40.429 -11.514 39.239 -14.754 39.239 C -19.444 39.239 -23.494 41.939 -25.464 45.859 L -21.484 48.949 C -20.534 46.099 -17.884 43.989 -14.754 43.989 Z"})]})})},cn=n(132),an=n.n(cn),on=n(123),sn=n.n(on),ln=n(124),un=n.n(ln),dn=function(e){var t=e.text,n=e.sx,r=Object(o.useRef)(null),c=Object(o.useState)(!1),i=Object(f.a)(c,2),a=i[0],s=i[1];return Object(o.useEffect)((function(){var e=r.current;e&&t?function(){if(e){var t=e.scrollWidth>e.offsetWidth;s(t)}}():s(!1)}),[t]),Object(R.jsx)(v.a,{title:t,disableHoverListener:!a,children:Object(R.jsx)(p.a,{variant:"h6",component:"div",noWrap:!0,sx:n,ref:r,children:Object(R.jsx)("span",{children:t})})})},bn=n(128),jn=n.n(bn),fn=function(e){var t=e.title,n=e.counterTitle,r=e.fitMode,c=e.onFitModeChange,i=e.onOpenFile,a=e.onRecentFile,s=e.fullscreenButtonActive,l=e.onToggleFullscreen,u=e.isFirstImageEnabled,b=e.isPrevImageEnabled,w=e.isNextImageEnabled,C=e.isLastImageEnabled,y=e.isSlideshowEnabled,M=e.isSlideshowPlaying,I=e.onToggleSlideshowPlaying,T=e.onFirstImage,z=e.onPrevImage,A=e.onNextImage,H=e.onLastImage,D=e.recentFiles,B=e.onDownloadFile,W=e.onCloseFile,Z=e.onSignOut,N=e.isMobileDrawerOpen,Y=e.toggleMobileDrawer,X=Object(o.useState)(!1),V=Object(f.a)(X,2),q=V[0],G=V[1],_=Object(o.useRef)(null),U=Object(o.useState)(!1),Q=Object(f.a)(U,2),$=Q[0],ee=Q[1],te=Object(o.useRef)(null),ne=Object(o.useState)(!1),re=Object(f.a)(ne,2),ce=re[0],ie=re[1],ae=Object(o.useRef)(null),oe=Object(o.useState)(!1),se=Object(f.a)(oe,2),le=se[0],ue=se[1],de=Object(o.useRef)(null),be=Te(),je=be.isEnabled,fe=be.isFullscreen,he=Pe(Z),xe=he.isSignedIn,me=he.toggleSignedIn,ge=he.profile,pe=he.isCookiesError,ve=Object(o.useCallback)((function(){G(!1)}),[]),we=Object(o.useCallback)((function(){G((function(e){return!e}))}),[]),ke=Object(o.useCallback)(Object(K.a)(J.a.mark((function e(){var t;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ve(),e.prev=1,e.next=4,Oe();case 4:(t=e.sent)&&i(t),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])}))),[ve,i]),Se=Object(o.useCallback)((function(){Y(),ve()}),[Y,ve]),ye=Object(o.useCallback)((function(){B(),ve()}),[ve,B]),Ee=Object(o.useCallback)((function(){W(),ve()}),[W,ve]),Me=Object(o.useCallback)((function(){ee(!1)}),[]),Fe=Object(o.useCallback)((function(){ee((function(e){return!e}))}),[]),Ie=Object(o.useCallback)((function(e){Me(),ve(),a(e)}),[Me,ve,a]),Le=Object(o.useCallback)((function(){ie(!1)}),[]),ze=Object(o.useCallback)((function(){ie((function(e){return!e}))}),[]),Re=Object(o.useCallback)((function(){ue(!1)}),[]),He=Object(o.useCallback)((function(){ue((function(e){return!e}))}),[]),De=Object(o.useCallback)((function(){Re(),me()}),[Re,me]),Be=Ae();return Object(R.jsxs)(j.a,{children:[Object(R.jsx)(h.a,{size:"large",edge:"start",color:"inherit","aria-label":"menu",sx:{mr:2},ref:_,onClick:we,children:Object(R.jsx)(k.a,{})}),Object(R.jsxs)(x.a,{anchorEl:_.current,open:q,onClose:ve,children:[Object(R.jsxs)(O.a,{onClick:Se,sx:{display:{xs:"flex",md:"none"}},children:[Object(R.jsx)(m.a,{children:N?Object(R.jsx)(sn.a,{}):Object(R.jsx)(un.a,{})}),Object(R.jsx)(g.a,{children:N?"Hide Thumbnails":"Show Thumbnails"})]}),!xe&&Object(R.jsxs)(O.a,{onClick:me,children:[Object(R.jsx)(m.a,{children:Object(R.jsx)(rn,{})}),Object(R.jsx)(g.a,{children:"Sign in with Google"})]}),xe&&Object(R.jsxs)(O.a,{onClick:ke,children:[Object(R.jsx)(m.a,{children:Object(R.jsx)(Gt.a,{})}),Object(R.jsx)(g.a,{children:"Open File"})]}),xe&&Object(R.jsxs)(O.a,{onClick:Fe,disabled:0===D.length,ref:te,children:[Object(R.jsx)(m.a,{children:Object(R.jsx)(Kt.a,{})}),Object(R.jsx)(g.a,{children:"Recent Files"})]}),s&&Object(R.jsxs)(O.a,{onClick:ye,children:[Object(R.jsx)(m.a,{children:Object(R.jsx)(Ut.a,{})}),Object(R.jsx)(g.a,{children:"Download File"})]}),s&&Object(R.jsxs)(O.a,{onClick:Ee,children:[Object(R.jsx)(m.a,{children:Object(R.jsx)($t.a,{})}),Object(R.jsx)(g.a,{children:"Close File"})]}),Object(R.jsx)(zt.a,{sx:{display:{xs:"flex",md:"none"}}}),Object(R.jsxs)(O.a,{disabled:!s,onClick:function(){T(),ve()},sx:{display:{xs:"flex",md:"none"}},children:[Object(R.jsx)(m.a,{children:Object(R.jsx)(Bt.a,{})}),Object(R.jsx)(g.a,{children:"First Image"})]}),Object(R.jsxs)(O.a,{disabled:!s,onClick:function(){I(),ve()},sx:{display:{xs:"flex",md:"none"}},children:[Object(R.jsx)(m.a,{children:M?Object(R.jsx)(gt.a,{}):Object(R.jsx)(Ot.a,{})}),Object(R.jsx)(g.a,{children:M?"End Slideshow":"Start Slideshow"})]}),Object(R.jsxs)(O.a,{disabled:!s,onClick:function(){H(),ve()},sx:{display:{xs:"flex",md:"none"}},children:[Object(R.jsx)(m.a,{children:Object(R.jsx)(Zt.a,{})}),Object(R.jsx)(g.a,{children:"Last Image"})]}),Object(R.jsx)(zt.a,{sx:{display:{xs:"flex",md:"none"}}}),Object(R.jsxs)(O.a,{onClick:function(){c(Ce.Best),ve()},sx:{display:{xs:"flex",md:"none"},backgroundColor:r===Ce.Best?"rgba(0, 0, 0, 0.08)":void 0},children:[Object(R.jsx)(m.a,{children:Object(R.jsx)(ot.a,{})}),Object(R.jsx)(g.a,{children:"Best Fit"})]}),Object(R.jsxs)(O.a,{onClick:function(){c(Ce.Width),ve()},sx:{display:{xs:"flex",md:"none"},backgroundColor:r===Ce.Width?"rgba(0, 0, 0, 0.08)":void 0},children:[Object(R.jsx)(m.a,{children:Object(R.jsx)(lt.a,{})}),Object(R.jsx)(g.a,{children:"Fit Width"})]}),Object(R.jsxs)(O.a,{onClick:function(){c(Ce.Height),ve()},sx:{display:{xs:"flex",md:"none"},backgroundColor:r===Ce.Height?"rgba(0, 0, 0, 0.08)":void 0},children:[Object(R.jsx)(m.a,{children:Object(R.jsx)(dt.a,{})}),Object(R.jsx)(g.a,{children:"Fit Height"})]}),Object(R.jsxs)(O.a,{onClick:function(){c(Ce.Original),ve()},sx:{display:{xs:"flex",md:"none"},backgroundColor:r===Ce.Original?"rgba(0, 0, 0, 0.08)":void 0},children:[Object(R.jsx)(m.a,{children:Object(R.jsx)(jt.a,{})}),Object(R.jsx)(g.a,{children:"Original Size"})]}),Object(R.jsxs)(O.a,{onClick:function(){c(Ce.Manual),ve()},sx:{display:{xs:"flex",md:"none"},backgroundColor:r===Ce.Manual?"rgba(0, 0, 0, 0.08)":void 0},children:[Object(R.jsx)(m.a,{children:Object(R.jsx)(ht.a,{})}),Object(R.jsx)(g.a,{children:"Manual Zoom"})]}),Object(R.jsx)(zt.a,{sx:{display:{xs:"flex",md:"none"}}}),Object(R.jsxs)(O.a,{disabled:!s,onClick:function(){l(),ve()},sx:{display:{xs:"flex",md:"none"}},children:[Object(R.jsx)(m.a,{children:fe?Object(R.jsx)(it.a,{}):Object(R.jsx)(rt.a,{})}),Object(R.jsx)(g.a,{children:fe?"Exit Fullscreen":"Enter Fullscreen"})]}),Object(R.jsxs)(O.a,{component:P.b,to:"/",onClick:function(){document.title=On},children:[Object(R.jsx)(m.a,{children:Object(R.jsx)(jn.a,{})}),Object(R.jsx)(g.a,{children:"Close View"})]})]}),Object(R.jsx)(x.a,{anchorEl:te.current,open:$,onClose:Me,PaperProps:{sx:{maxWidth:"400px"}},anchorOrigin:{vertical:"top",horizontal:"right"},children:D.map((function(e,t){return Object(R.jsx)(O.a,{onClick:function(){return Ie(e)},children:Object(R.jsx)(p.a,{noWrap:!0,children:e.title})},t)}))}),Object(R.jsx)(dn,{text:t,sx:{flexGrow:1}}),!!n&&Object(R.jsx)(d.a,{sx:{m:1},children:Object(R.jsx)(p.a,{variant:"body1",noWrap:!0,children:n})}),Object(R.jsx)(v.a,{title:"First Image (Home)",children:Object(R.jsx)(d.a,{sx:{display:{xs:"none",md:"block"}},children:Object(R.jsx)(h.a,{size:"large",color:"inherit","aria-label":"first-image",disabled:!u,onClick:T,children:Object(R.jsx)(Bt.a,{})})})}),Object(R.jsx)(v.a,{title:"Previous Image (Left Arrow)",children:Object(R.jsx)(d.a,{sx:{display:Be?"none":"block"},children:Object(R.jsx)(h.a,{size:"large",color:"inherit","aria-label":"prev-image",disabled:!b,onClick:z,sx:{p:{xs:"6px",md:"12px"}},children:Object(R.jsx)(Yt.a,{})})})}),Object(R.jsx)(v.a,{title:M?"End Slideshow (Space)":"Start Slideshow (Space)",children:Object(R.jsx)(d.a,{sx:{display:{xs:"none",md:"block"}},children:Object(R.jsx)(h.a,{size:"large",color:"inherit","aria-label":"next-image",disabled:!y,onClick:I,children:M?Object(R.jsx)(gt.a,{}):Object(R.jsx)(Ot.a,{})})})}),Object(R.jsx)(v.a,{title:"Next Image (Right Arrow, Scroll Below, Click)",children:Object(R.jsx)(d.a,{sx:{display:Be?"none":"block"},children:Object(R.jsx)(h.a,{size:"large",color:"inherit","aria-label":"next-image",disabled:!w,onClick:A,sx:{p:{xs:"6px",md:"12px"}},children:Object(R.jsx)(Vt.a,{})})})}),Object(R.jsx)(v.a,{title:"Last Image (End)",children:Object(R.jsx)(d.a,{sx:{display:{xs:"none",md:"block"}},children:Object(R.jsx)(h.a,{size:"large",color:"inherit","aria-label":"last-image",disabled:!C,onClick:H,children:Object(R.jsx)(Zt.a,{})})})}),Object(R.jsxs)(Rt.a,{value:r,exclusive:!0,onChange:function(e,t){t&&c(t)},sx:{display:{xs:"none",md:"flex"}},children:[Object(R.jsx)(At.a,{value:Ce.Best,"aria-label":"best-fit",sx:{p:0},children:Object(R.jsx)(v.a,{title:"Best Fit",children:Object(R.jsx)(d.a,{sx:{height:"min-content",width:"min-content",p:"11px",display:"grid",alignContent:"center",justifyContent:"center"},children:Object(R.jsx)(ot.a,{})})})}),Object(R.jsx)(At.a,{value:Ce.Width,"aria-label":"fit-width",sx:{p:0},children:Object(R.jsx)(v.a,{title:"Fit Width",children:Object(R.jsx)(d.a,{sx:{height:"min-content",width:"min-content",p:"11px",display:"grid",alignContent:"center",justifyContent:"center"},children:Object(R.jsx)(lt.a,{})})})}),Object(R.jsx)(At.a,{value:Ce.Height,"aria-label":"fit-height",sx:{p:0},children:Object(R.jsx)(v.a,{title:"Fit Height",children:Object(R.jsx)(d.a,{sx:{height:"min-content",width:"min-content",p:"11px",display:"grid",alignContent:"center",justifyContent:"center"},children:Object(R.jsx)(dt.a,{})})})}),Object(R.jsx)(At.a,{value:Ce.Original,"aria-label":"fit-original",sx:{p:0},children:Object(R.jsx)(v.a,{title:"Original Size",children:Object(R.jsx)(d.a,{sx:{height:"min-content",width:"min-content",p:"11px",display:"grid",alignContent:"center",justifyContent:"center"},children:Object(R.jsx)(jt.a,{})})})}),Object(R.jsx)(At.a,{value:Ce.Manual,"aria-label":"fit-manual",sx:{p:0},children:Object(R.jsx)(v.a,{title:"Manual Zoom",children:Object(R.jsx)(d.a,{sx:{height:"min-content",width:"min-content",p:"11px",display:"grid",alignContent:"center",justifyContent:"center"},children:Object(R.jsx)(ht.a,{})})})})]}),je&&Object(R.jsx)(v.a,{title:fe?"Exit Fullscreen":"Enter Fullscreen",children:Object(R.jsx)(d.a,{children:Object(R.jsx)(h.a,{size:"large",color:"inherit","aria-label":"fullscreen",disabled:!s,onClick:l,children:fe?Object(R.jsx)(it.a,{}):Object(R.jsx)(rt.a,{})})})}),Object(R.jsx)(v.a,{title:"Terms And Conditions",children:Object(R.jsx)(h.a,{size:"large",color:"inherit","aria-label":"terms-and-policy",edge:xe?void 0:"end",ref:ae,onClick:ze,sx:{p:{xs:"6px",md:"12px"}},children:Object(R.jsx)(S.a,{})})}),Object(R.jsxs)(x.a,{anchorEl:ae.current,open:ce,onClose:Le,MenuListProps:{"aria-labelledby":"basic-button"},children:[Object(R.jsxs)(O.a,{component:"a",href:"".concat(".","/about.html"),children:[Object(R.jsx)(m.a,{children:Object(R.jsx)(E.a,{})}),Object(R.jsx)(g.a,{children:"About"})]}),Object(R.jsxs)(O.a,{component:"a",href:"".concat(".","/privacy.html"),children:[Object(R.jsx)(m.a,{children:Object(R.jsx)(F.a,{})}),Object(R.jsx)(g.a,{children:"Privacy Policy"})]}),Object(R.jsxs)(O.a,{component:"a",href:"".concat(".","/terms.html"),children:[Object(R.jsx)(m.a,{children:Object(R.jsx)(L.a,{})}),Object(R.jsx)(g.a,{children:"Terms And Conditions"})]})]}),xe&&ge&&Object(R.jsx)(h.a,{size:"large",edge:"end",color:"inherit","aria-label":"terms-and-policy",ref:de,onClick:He,sx:{p:"6px"},children:Object(R.jsx)(Ht.a,{src:ge.imageUrl,sx:{width:32,height:32}})}),Object(R.jsx)(x.a,{anchorEl:de.current,open:le,onClose:Re,MenuListProps:{"aria-labelledby":"basic-button"},children:Object(R.jsxs)(O.a,{onClick:De,children:[Object(R.jsx)(m.a,{children:Object(R.jsx)(tn.a,{})}),Object(R.jsx)(g.a,{children:"Sign Out"})]})}),!xe&&pe&&Object(R.jsx)(v.a,{title:'You need to enable 3rd party cookies.\n            Click "eye" icon at the end of address bar',children:Object(R.jsx)(an.a,{color:"error",sx:{ml:"12px",mr:"-6px"}})})]})},hn=function(e){var t=e.onOpenFile,n=e.sx,r=Pe(),c=r.isSignedIn,i=r.toggleSignedIn,a=Object(o.useCallback)(Object(K.a)(J.a.mark((function e(){var n;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Oe();case 3:(n=e.sent)&&t(n),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),[t]);return Object(R.jsx)(d.a,{sx:Object(H.a)(Object(H.a)({},n),{},{display:"grid",justifyContent:"center",alignContent:"center"}),children:c?Object(R.jsx)(D.a,{onClick:a,variant:"contained",color:"secondary",startIcon:Object(R.jsx)(Gt.a,{}),children:"Open File"}):Object(R.jsx)(D.a,{onClick:i,variant:"contained",color:"secondary",startIcon:Object(R.jsx)(d.a,{sx:{bgcolor:"white",height:"44px",width:"44px",display:"grid",justifyContent:"center",alignContent:"center"},children:Object(R.jsx)(rn,{})}),sx:{textTransform:"none",padding:"1px 8px 1px 5px",borderRadius:"2px",overflow:"hidden"},children:"Sign in with Google"})})},xn=260,On="Drive Photos v1";!function(e){e[e.Best=1]="Best",e[e.Width=2]="Width",e[e.Height=3]="Height",e[e.Original=4]="Original",e[e.Manual=5]="Manual"}(Ce||(Ce={}));var mn=function(){var e,t,n=Object(o.useState)(Ce.Best),r=Object(f.a)(n,2),c=r[0],i=r[1],a=Object(o.useState)(""),s=Object(f.a)(a,2),l=s[0],u=s[1],h=Object(o.useState)(""),x=Object(f.a)(h,2),O=x[0],m=x[1],g=Object(o.useState)(!1),p=Object(f.a)(g,2),v=p[0],w=p[1],k=Object(o.useState)(On),C=Object(f.a)(k,2),S=C[0],y=C[1],E=Object(o.useState)(!1),M=Object(f.a)(E,2),F=M[0],I=M[1],L=Object(o.useState)([]),P=Object(f.a)(L,2),T=P[0],z=P[1],A=Object(o.useState)(!1),H=Object(f.a)(A,2),D=H[0],B=H[1],W=Object(o.useCallback)((function(){B((function(e){return!e}))}),[]),Z=function(){var e=Object(Me.a)();return Object(Fe.a)(e.breakpoints.down("md"))}(),N=Re(O,l),Y=N.isFinished,X=N.files,V=N.parent,q=N.prevDirFile,G=N.prevDirectory,J=N.nextDirFile,K=N.nextDirectory,_=N.onImageError,U=function(){var e=Object(o.useState)([]),t=Object(f.a)(e,2),n=t[0],r=t[1],c=Object(o.useRef)(null);Object(o.useEffect)((function(){var e=localStorage.getItem(Ie);c.current=e,e&&r(JSON.parse(e))}),[]);var i=Object(o.useCallback)((function(e){r((function(t){return[e].concat(t.slice(1))}))}),[]),a=Object(o.useCallback)((function(e){r((function(t){return[e].concat(t.slice(0,9))}))}),[]),s=Object(o.useCallback)((function(e){r((function(t){return t.filter((function(t){return t.id!==e.id}))}))}),[]),l=Object(o.useCallback)((function(){r([])}),[]);return Object(o.useEffect)((function(){if(n.length>0){var e=JSON.stringify(n);e!==c.current&&(localStorage.setItem(Ie,e),c.current=e)}else localStorage.getItem(Ie)&&(localStorage.removeItem(Ie),c.current=null)}),[n]),{recentFiles:n,replace:i,shift:a,remove:s,clear:l}}(),Q=U.recentFiles,$=U.replace,ee=U.shift,te=U.remove,ne=U.clear,re=Object(o.useRef)(!1),ce=Object(o.useCallback)((function(e){m(e.id),u(e.parentId),w(!1),re.current=!0}),[]),ie=Object(o.useCallback)((function(e){m(e.id),u(e.parentId),w(!1),te(e),re.current=!0}),[te]),ae=Object(o.useMemo)((function(){return O&&X.length>0?X.findIndex((function(e){return e.id===O})):-1}),[O,X]);Object(o.useEffect)((function(){var e=X[ae],t=e?e.name:"";if(V&&V.name&&t){var n="".concat(V.name,"/").concat(t),r="".concat(n," | ").concat(On);y(n),document.title=r;var c={id:e.id||"",parentId:V.id||"",title:n};re.current?(ee(c),re.current=!1):$(c)}}),[ae,V,X,$,ee]);var oe=Object(o.useMemo)((function(){return ae>=0&&X.length>0?"".concat(ae+1,"/").concat(X.length):""}),[ae,X]),se=Object(o.useMemo)((function(){return!(ae<0||X.length<0)&&ae>0}),[ae,X.length]),le=Object(o.useMemo)((function(){return!(ae<0||X.length<0)&&(ae>0||Y&&!!q)}),[Y,ae,X.length,q]),ue=Object(o.useMemo)((function(){return!(ae<0||X.length<0)&&(ae<X.length-1||Y&&!!J)}),[Y,ae,X.length,J]),de=Object(o.useMemo)((function(){return!(ae<0||X.length<0)&&ae<X.length-1}),[ae,X.length]),be=Object(o.useMemo)((function(){return ue}),[ue]),je=Object(o.useCallback)((function(){X[0]&&X[0].id&&(m(X[0].id||""),w(!1))}),[X]),fe=Object(o.useCallback)((function(){var e=ae-1;if(X[e]&&X[e].id)m(X[e].id||""),w(!0);else if(Y&&G&&q&&(m(q.id||""),u(G.id||""),w(!0),G.name&&q.name)){var t="".concat(G.name,"/").concat(q.name);y(t);var n="".concat(t," | ").concat(On);document.title=n}}),[Y,ae,X,G,q]),he=Object(o.useCallback)((function(){var e=ae+1;if(X[e]&&X[e].id)m(X[e].id||""),w(!1);else if(Y&&K&&J&&(m(J.id||""),u(K.id||""),w(!1),K.name&&J.name)){var t="".concat(K.name,"/").concat(J.name);y(t);var n="".concat(t," | ").concat(On);document.title=n}}),[Y,ae,X,K,J]),xe=Object(o.useCallback)((function(){var e=X.length-1;X[e]&&X[e].id&&(m(X[e].id||""),w(!1))}),[X]),Oe=Object(o.useCallback)((function(e){m(e),w(!1)}),[]),me=Object(o.useRef)(!1);Object(o.useEffect)((function(){!be&&F&&(I(!1),-1===ae&&(me.current=!0))}),[be,F,ae]),Object(o.useEffect)((function(){be&&!F&&!0===me.current&&(me.current=!1,I(!0))}),[be,F]);var ge=Object(o.useCallback)((function(){I((function(e){return!e}))}),[]),pe=Object(o.useCallback)((function(){var e=X[ae];if(e&&e.name&&e.webContentLink){var t=e.name,n=e.webContentLink,r=document.createElement("a");r.download=t,r.href=n,document.body.appendChild(r),r.click(),document.body.removeChild(r)}}),[ae,X]),ve=Object(o.useCallback)((function(){m(""),u(""),w(!1),y(On),document.title=On}),[]),we=Object(o.useCallback)((function(){ve(),ne(),localStorage.clear()}),[ve,ne]),ke=Object(o.useMemo)((function(){if(ae<0||X.length<=0)return{activeFile:void 0,canPrev:!1,prevFile:void 0,canNext:!1,nextFile:void 0,preloadFiles:[]};for(var e=X[ae],t=X[ae-1],n=X[ae+1],r=new Set,c=1;c<=3;c++){var i=X[ae+c];i&&r.add(i)}for(var a=1;a<=3;a++){var o=X[ae-a];o&&r.add(o)}for(var s=0;s<3;s++){var l=X[s];l&&r.add(l)}for(var u=X.length-1;u>=X.length-3;u--){var d=X[u];d&&r.add(d)}var b,j=Object(Xe.a)(T);try{for(j.s();!(b=j.n()).done;){var f=b.value,h=X[f];h&&r.add(h)}}catch(x){j.e(x)}finally{j.f()}return r.delete(e),r.delete(t),r.delete(n),{activeFile:e,canPrev:!!t||!!q,prevFile:t,canNext:!!n||!!J,nextFile:n,preloadFiles:Array.from(r)}}),[ae,X,T,q,J]),Se=ke.activeFile,ye=ke.canPrev,Ee=ke.prevFile,Le=ke.canNext,Pe=ke.nextFile,Te=ke.preloadFiles,ze=Object(o.useRef)(null),Ae=Object(o.useCallback)((function(){ze.current&&ze.current.toggleFullscreen()}),[]);return Object(o.useEffect)((function(){var e=function(e){switch(e.key){case"Home":je();break;case"ArrowLeft":fe();break;case"ArrowRight":he();break;case"End":xe();break;case" ":ge()}};return document.addEventListener("keydown",e),function(){document.removeEventListener("keydown",e)}}),[je,fe,he,xe,ge]),Object(R.jsxs)(d.a,{sx:{display:"flex"},children:[Object(R.jsx)(b.a,{position:"fixed",sx:{zIndex:function(e){return e.zIndex.drawer+1}},children:Object(R.jsx)(fn,{title:S,counterTitle:oe,fitMode:c,onFitModeChange:i,onOpenFile:ce,onRecentFile:ie,fullscreenButtonActive:X.length>0,onToggleFullscreen:Ae,isFirstImageEnabled:se,isPrevImageEnabled:le,isNextImageEnabled:ue,isLastImageEnabled:de,isSlideshowEnabled:be,isSlideshowPlaying:F,onToggleSlideshowPlaying:ge,onFirstImage:je,onPrevImage:fe,onNextImage:he,onLastImage:xe,recentFiles:Q,onDownloadFile:pe,onCloseFile:ve,onSignOut:we,isMobileDrawerOpen:D,toggleMobileDrawer:W})}),Z?Object(R.jsxs)(Ve.a,{anchor:"left",open:D,onOpen:W,onClose:W,sx:(e={width:xn,flexShrink:0},Object(Ye.a)(e,"& .MuiDrawer-paper",{width:xn,boxSizing:"border-box"}),Object(Ye.a)(e,"display","flex"),Object(Ye.a)(e,"flexDirection","column"),e),ModalProps:{keepMounted:!0},children:[Object(R.jsx)(j.a,{}),Object(R.jsx)($e,{files:X,fileId:O,onSelect:Oe,onVisibleFiles:z,onImageError:_,sx:{flexGrow:1}})]}):Object(R.jsxs)(qe.a,{variant:"permanent",sx:(t={width:xn,flexShrink:0},Object(Ye.a)(t,"& .MuiDrawer-paper",{width:xn,boxSizing:"border-box"}),Object(Ye.a)(t,"display","flex"),Object(Ye.a)(t,"flexDirection","column"),t),children:[Object(R.jsx)(j.a,{}),Object(R.jsx)($e,{files:X,fileId:O,onSelect:Oe,onVisibleFiles:z,onImageError:_,sx:{flexGrow:1}})]}),Object(R.jsxs)(d.a,{component:"main",sx:{flexGrow:1,height:"100vh",display:"flex",flexDirection:"column"},children:[Object(R.jsx)(j.a,{}),O?Object(R.jsx)(Tt,{fitMode:c,fileId:O,file:Se,canPrev:ye,prevFile:Ee,canNext:Le,nextFile:Pe,preloadFiles:Te,onPrevImage:fe,onNextImage:he,onFitModeChange:i,isScrollToBottom:v,isSlideshowEnabled:be,isSlideshowPlaying:F,onToggleSlideshowPlaying:ge,onImageError:_,sx:{flexGrow:1},ref:ze}):Object(R.jsx)(hn,{onOpenFile:ce,sx:{flexGrow:1}})]})]})},gn=n(19),pn=function(){return Object(R.jsx)(P.a,{children:Object(R.jsxs)(gn.c,{children:[Object(R.jsx)(gn.a,{path:"/view",children:Object(R.jsx)(mn,{})}),Object(R.jsx)(gn.a,{path:"/",children:Object(R.jsx)(Ne,{})})]})})},vn=n(217),wn=n(213),kn=n(133),Cn=Object(kn.a)({palette:{primary:{main:"#ffffff",contrastText:"#595959"},secondary:{main:"#3476dd",contrastText:"#ffffff"}},components:{MuiTooltip:{styleOverrides:{tooltip:{backgroundColor:"rgba(0, 0, 0, 0.5)"}}}}});u.a.render(Object(R.jsx)(wn.a,{theme:Cn,children:Object(R.jsxs)(s.a.StrictMode,{children:[Object(R.jsx)(vn.a,{}),Object(R.jsx)(pn,{})]})}),document.getElementById("root"))}},[[159,1,2]]]);
//# sourceMappingURL=main.5e7229eb.chunk.js.map